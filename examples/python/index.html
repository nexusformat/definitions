


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.1.2. HDF5 in Python &#8212; nexus v2024.02 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinxdoc.css?v=0a676766" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/rubric.css" type="text/css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=1d3248ab"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Getting started" href="simple_example_basic/index.html" />
    <link rel="prev" title="2.1.1. HDF5 in C with libhdf5" href="../code_native.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="simple_example_basic/index.html" title="Getting started"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../code_native.html" title="2.1.1. HDF5 in C with libhdf5"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U"><span class="section-number">2. </span>Examples of writing and reading NeXus data files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2.1.2. </span>HDF5 in Python</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="hdf5-in-python">
<span id="example-python"></span><span id="index-0"></span><h1><span class="section-number">2.1.2. </span>HDF5 in Python<a class="headerlink" href="#hdf5-in-python" title="Permalink to this heading">¶</a></h1>
<p>One way to gain a quick familiarity with NeXus is to start working with some data. For at least the
first few examples in this section, we have a simple two-column set of 1-D data, collected as part of a
series of alignment scans by the Advanced Photon Source USAXS instrument during the time it was stationed at
beam line 32ID. We will show how to read and write this data in Python using both the
<code class="docutils literal notranslate"><span class="pre">nexusformat</span></code> <a class="footnote-reference brackets" href="#id4" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> and <code class="docutils literal notranslate"><span class="pre">h5py</span></code> <a class="footnote-reference brackets" href="#id5" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> packages.  The <code class="docutils literal notranslate"><span class="pre">nexusformat</span></code> package provides a simplified syntax for
reading and writing NeXus-compliant files by automatically handling some of the features required by the
NeXus standard, such as the attributes that define group classes and plottable data. However, it also uses
the <code class="docutils literal notranslate"><span class="pre">h5py</span></code> package to read/write the HDF5 files on disk. We provide tabbed examples showing
how to produce equivalent files either using <code class="docutils literal notranslate"><span class="pre">nexusformat</span></code> or directly in <code class="docutils literal notranslate"><span class="pre">h5py</span></code>.</p>
<p>The actual data to be written was extracted (elsewhere) from a <code class="docutils literal notranslate"><span class="pre">spec</span></code> <a class="footnote-reference brackets" href="#id6" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> data file
and read as a text block from a file by the Python source code.
Our examples will start with the simplest case and add only mild complexity with each new case
since these examples are meant for those who are unfamiliar with NeXus.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><em>nexusformat</em>: <a class="reference external" href="https://nexpy.github.io/nexpy/">https://nexpy.github.io/nexpy/</a></p>
</aside>
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p><em>h5py</em>: <a class="reference external" href="https://www.h5py.org/">https://www.h5py.org/</a></p>
</aside>
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">3</a><span class="fn-bracket">]</span></span>
<p><em>SPEC</em>: <a class="reference external" href="http://certif.com/spec.html">http://certif.com/spec.html</a></p>
</aside>
</aside>
<section id="code-examples">
<h2><span class="section-number">2.1.2.1. </span>Code examples<a class="headerlink" href="#code-examples" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="simple_example_basic/index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple_example_write1/index.html">Write a NeXus HDF5 file</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple_example_write2/index.html">Write a NeXus HDF5 file with plottable data</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_example_write/index.html">Write a NeXuS HDF5 File with links to external data</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting/index.html">Find plottable data in a NeXus HDF5 file</a></li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/nexusformat/exampledata/blob/-/autogenerated_examples/nxdl/python_scripts/nexusformat/README.md">Write examples with nexusformat for different NeXus classes</a></p></li>
<li><p><a class="reference external" href="https://github.com/nexusformat/exampledata/blob/-/autogenerated_examples/nxdl/python_scripts/h5py/README.md">Write examples with h5py for different NeXus classes</a></p></li>
</ul>
</section>
<section id="example-data-used">
<h2><span class="section-number">2.1.2.2. </span>Example data used<a class="headerlink" href="#example-data-used" title="Permalink to this heading">¶</a></h2>
<p>The data shown plotted in the next figure will be written to the NeXus HDF5 file
using only two NeXus base classes, <code class="docutils literal notranslate"><span class="pre">NXentry</span></code> and <code class="docutils literal notranslate"><span class="pre">NXdata</span></code>, in the first example
and then minor variations on this structure in the next two examples.  The
data model is identical to the one in the <a class="reference internal" href="../../introduction.html#fig-simple-example"><span class="std std-ref">Introduction</span></a>
chapter except that the names will be different, as shown below:</p>
<div class="compound">
<figure class="align-default" id="id7">
<a class="reference internal image-reference" href="../../_images/Simple.png"><img alt="simple data structure" src="../../_images/Simple.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-text">data structure of the simple example</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>/entry:NXentry
<span class="linenos">2</span>    /mr_scan:NXdata
<span class="linenos">3</span>       /mr : float64[31]
<span class="linenos">4</span>       /I00 : int32[31]
</pre></div>
</div>
<figure class="align-default" id="id8">
<span id="simple-example-plot"></span><a class="reference internal image-reference" href="../../_images/simple_example.png"><img alt="simple-example-plot" src="../../_images/simple_example.png" style="width: 80%;" /></a>
<figcaption>
<p><span class="caption-text">plot of the simple example data</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p class="rubric">Simple example values</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>17.92608    1037
<span class="linenos"> 2</span>17.92591    1318
<span class="linenos"> 3</span>17.92575    1704
<span class="linenos"> 4</span>17.92558    2857
<span class="linenos"> 5</span>17.92541    4516
<span class="linenos"> 6</span>17.92525    9998
<span class="linenos"> 7</span>17.92508    23819
<span class="linenos"> 8</span>17.92491    31662
<span class="linenos"> 9</span>17.92475    40458
<span class="linenos">10</span>17.92458    49087
<span class="linenos">11</span>17.92441    56514
<span class="linenos">12</span>17.92425    63499
<span class="linenos">13</span>17.92408    66802
<span class="linenos">14</span>17.92391    66863
<span class="linenos">15</span>17.92375    66599
<span class="linenos">16</span>17.92358    66206
<span class="linenos">17</span>17.92341    65747
<span class="linenos">18</span>17.92325    65250
<span class="linenos">19</span>17.92308    64129
<span class="linenos">20</span>17.92291    63044
<span class="linenos">21</span>17.92275    60796
<span class="linenos">22</span>17.92258    56795
<span class="linenos">23</span>17.92241    51550
<span class="linenos">24</span>17.92225    43710
<span class="linenos">25</span>17.92208    29315
<span class="linenos">26</span>17.92191    19782
<span class="linenos">27</span>17.92175    12992
<span class="linenos">28</span>17.92158    6622
<span class="linenos">29</span>17.92141    4198
<span class="linenos">30</span>17.92125    2248
<span class="linenos">31</span>17.92108    1321
</pre></div>
</div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">2.1.2. HDF5 in Python</a><ul>
<li><a class="reference internal" href="#code-examples">2.1.2.1. Code examples</a></li>
<li><a class="reference internal" href="#example-data-used">2.1.2.2. Example data used</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../code_native.html"
                          title="previous chapter"><span class="section-number">2.1.1. </span>HDF5 in C with <code class="docutils literal notranslate"><span class="pre">libhdf5</span></code></a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="simple_example_basic/index.html"
                          title="next chapter">Getting started</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <p>Have a Question? <a href="https://github.com/nexusformat/definitions/issues/new">Get help</a></p>
    <ul class="this-page-menu">
    <style>
		  .avatar-container {
		    display: flex;
		    align-items: center;
		  }
		
		  .avatar {
		    width: 32px;
		    height: 32px;
		    border-radius: 50%;
		    margin-right: 5px;
		  }
		</style>
		
    
    
		<div class="avatar-container">
      
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="https://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="manual.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="simple_example_basic/index.html" title="Getting started"
             >next</a> |</li>
        <li class="right" >
          <a href="../code_native.html" title="2.1.1. HDF5 in C with libhdf5"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2024.02 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" ><span class="section-number">2. </span>Examples of writing and reading NeXus data files</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">2.1.2. </span>HDF5 in Python</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; <a href="../../copyright.html">Copyright</a> 1996-2024, NIAC, https://www.nexusformat.org.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>