.. auto-generated by dev_tools.docs.nxdl from the NXDL source applications/NXxps.nxdl.xml -- DO NOT EDIT

.. index::
    ! NXxps (application definition)
    ! xps (application definition)
    see: xps (application definition); NXxps

.. _NXxps:

=====
NXxps
=====

..
    Contributors List

    .. |contrib_name| replace:: Peter Chang|PeterC-DLS|https://avatars.githubusercontent.com/u/1381719?v=4|2026-02-19

**Status**:

  application definition, extends :ref:`NXmpes`

**Description**:

  This is the application definition for X-ray photoelectron spectroscopy.

**Symbols**:

  No symbol table

**Groups cited**:
  :ref:`NXbeam`, :ref:`NXcalibration`, :ref:`NXcollectioncolumn`, :ref:`NXcoordinate_system`, :ref:`NXdata`, :ref:`NXelectronanalyzer`, :ref:`NXenergydispersion`, :ref:`NXentry`, :ref:`NXfit_function`, :ref:`NXfit`, :ref:`NXinstrument`, :ref:`NXparameters`, :ref:`NXpeak`, :ref:`NXsample`, :ref:`NXsource`, :ref:`NXtransformations`

.. index:: NXentry (base class); used in application definition, NXcoordinate_system (base class); used in application definition, NXtransformations (base class); used in application definition, NXinstrument (base class); used in application definition, NXsource (base class); used in application definition, NXbeam (base class); used in application definition, NXelectronanalyzer (base class); used in application definition, NXdata (base class); used in application definition, NXcollectioncolumn (base class); used in application definition, NXenergydispersion (base class); used in application definition, NXcalibration (base class); used in application definition, NXfit (base class); used in application definition, NXpeak (base class); used in application definition, NXfit_function (base class); used in application definition, NXparameters (base class); used in application definition, NXsample (base class); used in application definition

**Structure**:

  .. _/NXxps/ENTRY-group:

  :bolditalic:`ENTRY`: (required) :ref:`NXentry` :ref:`⤆ </NXmpes/ENTRY-group>`


    .. _/NXxps/ENTRY/definition-field:

    .. index:: definition (field)

    **definition**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXmpes/ENTRY/definition-field>`


      Obligatory value: ``NXxps``

    .. _/NXxps/ENTRY/method-field:

    .. index:: method (field)

    **method**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXmpes/ENTRY/method-field>`

      .. collapse:: A name of the experimental method according to `Clause 11`_ of ...

          A name of the experimental method according to `Clause 11`_ of
          the `ISO 18115-1:2023`_ specification.

          Examples for XPS-related experiments include:
              * X-ray photoelectron spectroscopy (XPS)
              * angle-resolved X-ray photoelectron spectroscopy (ARXPS)
              * ultraviolet photoelectron spectroscopy (UPS)
              * hard X-ray photoemission spectroscopy (HAXPES)
              * near ambient pressure X-ray photoelectron spectroscopy (NAPXPS)
              * electron spectroscopy for chemical analysis (ESCA)

          .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
          .. _Clause 11: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:sec:11

    .. _/NXxps/ENTRY/transitions-field:

    .. index:: transitions (field)

    **transitions**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXmpes/ENTRY/transitions-field>`


    .. _/NXxps/ENTRY/xps_coordinate_system-group:

    **xps_coordinate_system**: (recommended) :ref:`NXcoordinate_system` :ref:`⤆ </NXmpes/ENTRY/COORDINATE_SYSTEM-group>`

      .. collapse:: In traditional surface science, a left-handed coordinate system is used such ...

          In traditional surface science, a left-handed coordinate system is used such that the positive z-axis
          points along the normal of the sample stage, and the x- and y-axes lie in the plane of the sample stage.
          However, in NeXus, a coordinate system that is the same as `McStas`_  is used. `xps_coordinate_system`
          gives the user the opportunity to work in the traditional base coordinate system.

          .. _McStas: http://mcstas.org/

          .. image:: xps/xps_cs.png
              :width: 40%

      .. _/NXxps/ENTRY/xps_coordinate_system/origin-field:

      .. index:: origin (field)

      **origin**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXcoordinate_system/origin-field>`


        Obligatory value: ``sample stage``

      .. _/NXxps/ENTRY/xps_coordinate_system/z_direction-field:

      .. index:: z_direction (field)

      **z_direction**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXcoordinate_system/z_direction-field>`


        Obligatory value: ``sample stage normal``

      .. _/NXxps/ENTRY/xps_coordinate_system/x-field:

      .. index:: x (field)

      **x**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXcoordinate_system/x-field>`


        Obligatory value: ``[-1, 0, 0]``

      .. _/NXxps/ENTRY/xps_coordinate_system/y-field:

      .. index:: y (field)

      **y**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXcoordinate_system/y-field>`


        Obligatory value: ``[0, 1, 0]``

      .. _/NXxps/ENTRY/xps_coordinate_system/z-field:

      .. index:: z (field)

      **z**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXcoordinate_system/z-field>`


        Obligatory value: ``[0, 0, 1]``

      .. _/NXxps/ENTRY/xps_coordinate_system/depends_on-field:

      .. index:: depends_on (field)

      **depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXcoordinate_system/depends_on-field>`

        .. collapse:: Link to transformations defining the XPS base coordinate system, ...

            Link to transformations defining the XPS base coordinate system,
            which is defined such that the positive z-axis points along the sample stage normal, and the
            x- and y-axes lie in the plane of the sample stage.

      .. _/NXxps/ENTRY/xps_coordinate_system/TRANSFORMATIONS-group:

      :bolditalic:`TRANSFORMATIONS`: (optional) :ref:`NXtransformations` :ref:`⤆ </NXcoordinate_system/TRANSFORMATIONS-group>`

        .. collapse:: Set of transformations, describing the orientation of the XPS coordinate s ...

            Set of transformations, describing the orientation of the XPS coordinate system
            with respect to the beam coordinate system (.) or another coordinate system.
            The transformations in the ``NXtransformations`` group depend on the actual instrument
            geometry.
            If the z-axis is pointing in the direction of gravity (i.e., if the sample is mounted horizontally),
            the following transformations can be used for describing the XPS coordinate system
            with respect to the beam coordinate system (.):

            .. code-block::

                xps_coordinate_system:NXcoordinate_system
                  depends_on=coordinate_transformations/sample_stage_to_source_azimuth
                  coordinate_transformations:NXtransformations
                    sample_stage_to_source_azimuth=beam_azimuth_angle
                      @depends_on=sample_stage_to_source_polar
                      @transformation_type=rotation
                      @vector=[0, 0, -1]
                      @units=degree
                    sample_stage_to_source_polar=beam_polar_angle_of_incidence
                      @depends_on=.
                      @transformation_type=rotation
                      @vector=[1, 0, 0]
                      @units=degree

            Note that this ``NXtransformations``  group is not needed when the defined
            :ref:`transformations in beam_probe </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations-group>`
            are used. In this case, this group shall not be written here to avoid circular references in the
            transformations chain.

    .. _/NXxps/ENTRY/INSTRUMENT-group:

    :bolditalic:`INSTRUMENT`: (required) :ref:`NXinstrument` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT-group>`

      .. collapse:: Description of the XPS spectrometer and its individual parts. ...

          Description of the XPS spectrometer and its individual parts.

          This concept is related to term `12.58`_ of the ISO 18115-1:2023 standard.

          .. _12.58: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:12.58

      .. _/NXxps/ENTRY/INSTRUMENT/source_probe-group:

      **source_probe**: (recommended) :ref:`NXsource` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/source_probe-group>`


        .. _/NXxps/ENTRY/INSTRUMENT/source_probe/power-field:

        .. index:: power (field)

        **power**: (recommended) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_POWER <NX_POWER>`} :ref:`⤆ </NXsource/power-field>`


      .. _/NXxps/ENTRY/INSTRUMENT/beam_probe-group:

      **beam_probe**: (required) :ref:`NXbeam` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/beam_probe-group>`


        .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/depends_on-field:

        .. index:: depends_on (field)

        **depends_on**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXbeam/depends_on-field>`

          .. collapse:: Reference to the transformation describing the direction of the beam ...

              Reference to the transformation describing the direction of the beam
              relative to a defined coordinate system.

              Should point to /entry/instrument/beam_probe/transformations/beam_direction.

        .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations-group:

        **transformations**: (recommended) :ref:`NXtransformations` :ref:`⤆ </NXbeam/TRANSFORMATIONS-group>`


          .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction-field:

          .. index:: beam_direction (field)

          **beam_direction**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_UNITLESS <NX_UNITLESS>`} :ref:`⤆ </NXbeam/TRANSFORMATIONS/BEAMdirection-field>`

            Beam direction in the XPS coordinate system after rotation.

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@vector-attribute:

            .. index:: vector (field attribute)

            **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXbeam/TRANSFORMATIONS/BEAMdirection@vector-attribute>`


              Obligatory value: ``[0, 0, -1]``

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@depends_on-attribute:

            .. index:: depends_on (field attribute)

            **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXbeam/TRANSFORMATIONS/BEAMdirection@depends_on-attribute>`


              Obligatory value: ``beam_polar_angle_of_incidence``

          .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence-field:

          .. index:: beam_polar_angle_of_incidence (field)

          **beam_polar_angle_of_incidence**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

            .. collapse:: Incidence angle of the beam with respect to the upward z-direction, de ...

                Incidence angle of the beam with respect to the upward z-direction, defined by
                the sample stage.

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@transformation_type-attribute:

            .. index:: transformation_type (field attribute)

            **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


              Obligatory value: ``rotation``

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@vector-attribute:

            .. index:: vector (field attribute)

            **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


              Obligatory value: ``[-1, 0, 0]``

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@depends_on-attribute:

            .. index:: depends_on (field attribute)

            **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`


              Obligatory value: ``beam_azimuth_angle``

          .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle-field:

          .. index:: beam_azimuth_angle (field)

          **beam_azimuth_angle**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

            Azimuthal rotation of the beam from the y-direction defined by the sample stage.

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@transformation_type-attribute:

            .. index:: transformation_type (field attribute)

            **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


              Obligatory value: ``rotation``

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@vector-attribute:

            .. index:: vector (field attribute)

            **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


              Obligatory value: ``[0, 0, 1]``

            .. _/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@depends_on-attribute:

            .. index:: depends_on (field attribute)

            **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`

              .. collapse:: This should point to the coordinate system defined in ...

                  This should point to the coordinate system defined in
                  /entry/xps_coordinate_system.

      .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER-group:

      :bolditalic:`ELECTRONANALYZER`: (required) :ref:`NXelectronanalyzer` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER-group>`


        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/work_function-field:

        .. index:: work_function (field)

        **work_function**: (required) :ref:`NX_FLOAT <NX_FLOAT>` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER/work_function-field>`


        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/depends_on-field:

        .. index:: depends_on (field)

        **depends_on**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXcomponent/depends_on-field>`

          .. collapse:: Reference to the transformation describing the orientation of the analyz ...

              Reference to the transformation describing the orientation of the analyzer
              relative to a defined coordinate system.

        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transmission_function-group:

        **transmission_function**: (recommended) :ref:`NXdata` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER/transmission_function-group>`


        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN-group:

        :bolditalic:`COLLECTIONCOLUMN`: (required) :ref:`NXcollectioncolumn` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN-group>`


          .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN/magnification-field:

          .. index:: magnification (field)

          **magnification**: (recommended) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_DIMENSIONLESS <NX_DIMENSIONLESS>`} :ref:`⤆ </NXcollectioncolumn/magnification-field>`


        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION-group:

        :bolditalic:`ENERGYDISPERSION`: (required) :ref:`NXenergydispersion` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION-group>`


          .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/radius-field:

          .. index:: radius (field)

          **radius**: (recommended) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 


          .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/energy_scan_mode-field:

          .. index:: energy_scan_mode (field)

          **energy_scan_mode**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXmpes/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/energy_scan_mode-field>`


        .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations-group:

        **transformations**: (recommended) :ref:`NXtransformations` :ref:`⤆ </NXcomponent/TRANSFORMATIONS-group>`


          .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle-field:

          .. index:: analyzer_take_off_polar_angle (field)

          **analyzer_take_off_polar_angle**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

            .. collapse:: Polar tilt of the analyzer with respect to the upward z-direction, def ...

                Polar tilt of the analyzer with respect to the upward z-direction, defined by
                the sample stage.

                The angle between the incoming beam and the analyzer is given by
                beam_analyzer_angle = beam_polar_angle_of_incidence + analyzer_take_off_polar_angle.
                In practice, the analyzer axis is often set as the z axis (analyzer_take_off_polar_angle = 0),
                so that beam_analyzer_angle = beam_polar_angle_of_incidence. For magic angle configurations,
                this angle is 54.5°.

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@transformation_type-attribute:

            .. index:: transformation_type (field attribute)

            **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


              Obligatory value: ``rotation``

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@vector-attribute:

            .. index:: vector (field attribute)

            **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


              Obligatory value: ``[-1, 0, 0]``

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@depends_on-attribute:

            .. index:: depends_on (field attribute)

            **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`


              Obligatory value: ``analyzer_take_off_azimuth_angle``

          .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle-field:

          .. index:: analyzer_take_off_azimuth_angle (field)

          **analyzer_take_off_azimuth_angle**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

            .. collapse:: Azimuthal rotation of the analyzer from the y-direction defined by the ...

                Azimuthal rotation of the analyzer from the y-direction defined by the sample
                stage.

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@transformation_type-attribute:

            .. index:: transformation_type (field attribute)

            **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


              Obligatory value: ``rotation``

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@vector-attribute:

            .. index:: vector (field attribute)

            **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


              Obligatory value: ``[0, 0, 1]``

            .. _/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@depends_on-attribute:

            .. index:: depends_on (field attribute)

            **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`

              .. collapse:: This should point to the coordinate system defined in ...

                  This should point to the coordinate system defined in
                  /entry/xps_coordinate_system.

    .. _/NXxps/ENTRY/energy_referencing-group:

    **energy_referencing**: (recommended) :ref:`NXcalibration` :ref:`⤆ </NXmpes/ENTRY/energy_referencing-group>`


    .. _/NXxps/ENTRY/transmission_correction-group:

    **transmission_correction**: (recommended) :ref:`NXcalibration` :ref:`⤆ </NXmpes/ENTRY/transmission_correction-group>`


    .. _/NXxps/ENTRY/FIT-group:

    :bolditalic:`FIT`: (recommended) :ref:`NXfit` :ref:`⤆ </NXmpes/ENTRY/FIT-group>`

      .. collapse:: Peak model for XPS fitting. Each `NXfit` instance shall be used for the desc ...

          Peak model for XPS fitting. Each `NXfit` instance shall be used for the description of
          _one_ peak fit in _one_ XPS region. As an example, this could be used to describe the
          fitting of one measured C 1s spectrum.

          This concept is related to term `3.29`_ of the ISO 18115-1:2023 standard.

          .. _3.29: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:3.29

      .. _/NXxps/ENTRY/FIT/label-field:

      .. index:: label (field)

      **label**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit/label-field>`


      .. _/NXxps/ENTRY/FIT/figure_of_meritMETRIC-field:

      .. index:: figure_of_meritMETRIC (field)

      **figure_of_merit**\ :bolditalic:`METRIC`: (recommended) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXfit/figure_of_meritMETRIC-field>`


        .. _/NXxps/ENTRY/FIT/figure_of_meritMETRIC@metric-attribute:

        .. index:: metric (field attribute)

        **@metric**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit/figure_of_meritMETRIC@metric-attribute>`


      .. _/NXxps/ENTRY/FIT/data-group:

      **data**: (required) :ref:`NXdata` :ref:`⤆ </NXfit/data-group>`

        Input data and results of the fit.

        .. _/NXxps/ENTRY/FIT/data/input_dependent-field:

        .. index:: input_dependent (field)

        **input_dependent**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANY <NX_ANY>`} :ref:`⤆ </NXfit/data/input_dependent-field>`

          .. collapse:: Dependent variable for this fit procedure. ...

              Dependent variable for this fit procedure.

              This could be a link to entry/data/data.

        .. _/NXxps/ENTRY/FIT/data/input_independent-field:

        .. index:: input_independent (field)

        **input_independent**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ENERGY <NX_ENERGY>`} :ref:`⤆ </NXfit/data/input_independent-field>`

          .. collapse:: Independent variable for this fit procedure. ...

              Independent variable for this fit procedure.

              This could be a link to entry/data/energy.

        .. _/NXxps/ENTRY/FIT/data/fit_sum-field:

        .. index:: fit_sum (field)

        **fit_sum**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANY <NX_ANY>`} :ref:`⤆ </NXfit/data/fit_sum-field>`


        .. _/NXxps/ENTRY/FIT/data/residual-field:

        .. index:: residual (field)

        **residual**: (recommended) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANY <NX_ANY>`} :ref:`⤆ </NXfit/data/residual-field>`


      .. _/NXxps/ENTRY/FIT/peakPEAK-group:

      **peak**\ :bolditalic:`PEAK`: (required) :ref:`NXpeak` :ref:`⤆ </NXfit/peakPEAK-group>`


        .. _/NXxps/ENTRY/FIT/peakPEAK/label-field:

        .. index:: label (field)

        **label**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXpeak/label-field>`


        .. _/NXxps/ENTRY/FIT/peakPEAK/total_area-field:

        .. index:: total_area (field)

        **total_area**: (recommended) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANY <NX_ANY>`} :ref:`⤆ </NXfit/peakPEAK/total_area-field>`

          .. collapse:: Total area under the peak after background removal. ...

              Total area under the peak after background removal.

              This concept is related to term `3.16`_ of the ISO 18115-1:2023 standard.

              .. _3.16: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:3.16

        .. _/NXxps/ENTRY/FIT/peakPEAK/relative_atomic_concentration-field:

        .. index:: relative_atomic_concentration (field)

        **relative_atomic_concentration**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANY <NX_ANY>`} 

          .. collapse:: Atomic concentration of the species defined by this peak. This should be ...

              Atomic concentration of the species defined by this peak. This should be a value
              between 0 and 1.

        .. _/NXxps/ENTRY/FIT/peakPEAK/data-group:

        **data**: (required) :ref:`NXdata` :ref:`⤆ </NXpeak/data-group>`


          .. _/NXxps/ENTRY/FIT/peakPEAK/data/position-field:

          .. index:: position (field)

          **position**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ENERGY <NX_ENERGY>`} :ref:`⤆ </NXpeak/data/position-field>`

            This could be a link to entry/data/energy.

          .. _/NXxps/ENTRY/FIT/peakPEAK/data/intensity-field:

          .. index:: intensity (field)

          **intensity**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXpeak/data/intensity-field>`

            .. collapse:: Intensity values of the fitted function at each energy in the position ...

                Intensity values of the fitted function at each energy in the position field.

                This concept is related to term `3.15`_ of the ISO 18115-1:2023 standard.

                .. _3.15: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:3.15

        .. _/NXxps/ENTRY/FIT/peakPEAK/function-group:

        **function**: (recommended) :ref:`NXfit_function` :ref:`⤆ </NXpeak/function-group>`


          .. _/NXxps/ENTRY/FIT/peakPEAK/function/function_type-field:

          .. index:: function_type (field)

          **function_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/function_type-field>`

            .. collapse:: Type of fit function used. ...

                Type of fit function used.

                The user is encouraged to use one of the options defined in the enumeration, but in case none of these fit
                (e.g., in the case of very complex line shapes), a different value for the ``function_type`` field
                can be used. In that case in particular, but also if one of the suggested values is used, the functional
                form of the peak should be given by the ``formula_description`` field. The user is also encouraged to use the
                ``description`` field for describing the fit function in a human-readable way.

                Any of these values or a custom value (if you use a custom value, also set @custom=True):

                  * ``Gaussian``:  The Gaussian function models peaks with a symmetric shape, commonly arising from instrumental broadening and thermal motion in XPS. It is defined as :math:`G(x) = \frac{A}{\sigma \sqrt{2\pi}} \exp\left(-\frac{(x - \mu)^2}{2\sigma^2}\right)`, where - :math:`A` is the peak amplitude, :math:`\mu` is the peak position - and :math:`\sigma` is the standard deviation. The full width at half maximum (FWHM) is given by: :math:`\text{FWHM} = 2\sqrt{2\ln(2)} \sigma`.

                  * ``Lorentzian``:  The Lorentzian function describes peaks that originate from lifetime broadening due to the finite lifetime of excited states. It has more pronounced tails compared to the Gaussian function. The Lorentzian function is defined as :math:`L(x) = \frac{A}{\pi} \frac{\gamma}{(x - \mu)^2 + \gamma^2}`, where - :math:`A` is the peak amplitude, :math:`\mu` is the peak center, - and :math:`\gamma` is the half-width at half-maximum (HWHM). The full width at half maximum (FWHM) is given by: :math:`\text{FWHM} = 2\gamma`.

                  * ``Voigt``:  The Voigt function is a convolution of a Gaussian and a Lorentzian function. It provides a more accurate representation of XPS peaks by incorporating both instrumental broadening (Gaussian) and intrinsic lifetime broadening (Lorentzian). It is defined as :math:`V(x; \sigma, \gamma) = \int_{-\infty}^{\infty} G(x') L(x - x') \,dx'`, where - :math:`G(x')` is the Gaussian function with standard deviation :math:`\sigma`, - and :math:`L(x - x')` is the Lorentzian function with half-width :math:`\gamma`. The FWHM of the Voigt function is approximately: :math:`\text{FWHM} \approx 0.5346 \cdot \text{FWHM}_L + \sqrt{0.2166 \cdot \text{FWHM}_L^2 + \text{FWHM}_G^2}` where - :math:`\text{FWHM}_L = 2\gamma` (Lorentzian FWHM) and - :math:`\text{FWHM}_G = 2\sqrt{2\ln(2)} \sigma` (Gaussian FWHM).

                  * ``Gaussian-Lorentzian Sum``:  The Gaussian-Lorentzian Sum is an approximation to the Voigt function where the line shape is simply the sum of a Gaussian and a Lorentzian function :math:`GL_{\text{sum}}(x) = \eta L(x) + (1 - \eta) G(x)`, where :math:`\eta` (ranging from 0 to 1) controls the relative contribution of the Lorentzian component.

                  * ``Gaussian-Lorentzian Product``:  The **Gaussian-Lorentzian Product** function provides an approximation to the true Voigt function by multiplying a Gaussian and a Lorentzian line shape. This model is often used to describe peak broadening due to both instrumental resolution (Gaussian component) and intrinsic lifetime effects (Lorentzian component). The function is defined as: :math:`P(x, \eta) = (1 - \eta) G(x) \cdot \eta L(x)` where: :math:`\eta` is the **mixing parameter** (:math:`0 \leq \eta \leq 1`), controlling the balance between the Gaussian and Lorentzian contributions. This method ensures that the resulting peak retains characteristics of both functions while avoiding excessive weight in either the Gaussian or Lorentzian component.

                  * ``Asymmetric Lorentzian``:  The Asymmetric Lorentzian function modifies the standard Lorentzian shape to asymmetry on either side of the peak. Oftentimes, the the asymmetric modification is achieved by introducing asymmetric broadening through power-law scaling on either side of the peak. The **asymmetric modification** is introduced using exponents :math:`\alpha` and :math:`\beta` to alter the line shape differently for :math:`x \leq E` and :math:`x > E`: :math:`LA(\alpha, \beta) = \begin{cases} [L(x)]^\alpha, & x \leq E \\ [L(x)]^\beta, & x > E \end{cases}` where: - :math:`L(x)` is the symmetric Lorentzian function. - :math:`\alpha` controls the asymmetry on the **low-energy** side (:math:`x \leq E`). - :math:`\beta` controls the asymmetry on the **high-energy** side (:math:`x > E`). This asymmetric Lorentzian model is particularly useful in XPS to account for asymmetries arising from inelastic scattering processes and core-hole screening effects. Note that this is not the only possibility to introduce asymmetry. The exact functional form should be given by the ``formula_description`` field.

                  * ``Doniach-Sunjic``:  The Doniach-Sunjic function models asymmetric peaks arising from many-body interactions in XPS, particularly for core-level spectra influenced by conduction electrons. It is given by :math:`DS(x) = A \frac{\cos\left( \pi\alpha / 2 + (1-\alpha) \tan^{-1} \left(\frac{x - \mu}{\gamma} \right) \right)}{(x - \mu)^2 + \gamma^2}^{(1-\alpha)/2}`, where :math:`\alpha` (0 \leq :math:`\alpha` < 1) controls the asymmetry. When :math:`\alpha = 0`, the function reduces to a symmetric Lorentzian.

                  * ``Asymmetric Finite``:  One major challenge in using asymmetric peaks is ensuring that the fitted line shape correctly models the peak intensity while being confined to physically meaningful integration limits. Standard asymmetric peaks, like the ``Lorentzian Asymmetric`` function, may extend indefinitely, making it difficult to compare intensities when peak areas exceed the boundaries defined by background subtraction or experimental data constraints. The Asymmetric Finite function is an empirical modification of the asymmetric functions that introduces a damping parameter to gradually suppress the asymmetric tail, ensuring that peak intensity remains localized within the relevant spectral region. Typically, the asymmetric parameters are modified depending on the distance from the peak such that the overall area under the peak remains finite. This function is especially valuable when standard background approximations like **Shirley or Linear backgrounds** constrain the data to a specific range, making infinite asymmetric tails impractical. The functional form depends on the implementation and should be given by the ``formula_description`` field, if possible.


          .. _/NXxps/ENTRY/FIT/peakPEAK/function/description-field:

          .. index:: description (field)

          **description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/description-field>`

            Human-readable description of the peak fit function.

          .. _/NXxps/ENTRY/FIT/peakPEAK/function/formula_description-field:

          .. index:: formula_description (field)

          **formula_description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/formula_description-field>`


          .. _/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters-group:

          **fit_parameters**: (recommended) :ref:`NXparameters` :ref:`⤆ </NXfit_function/fit_parameters-group>`


            .. _/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/area-field:

            .. index:: area (field)

            **area**: (optional) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANY <NX_ANY>`} 

              Area of the peak.

            .. _/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/width-field:

            .. index:: width (field)

            **width**: (optional) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ENERGY <NX_ENERGY>`} 

              .. collapse:: Width of a peak at a defined fraction of the peak height. ...

                  Width of a peak at a defined fraction of the peak height.

                  Usually, this will be the Full Width at Half Maximum of the peak (FWHM).
                  For asymmetric peaks, convenient measures of peak width are the half-widths of
                  each side of the peak at half maximum intensity.

                  This concept is related to term `3.28`_ of the ISO 18115-1:2023 standard.

                  .. _3.28: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:3.28

            .. _/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/position-field:

            .. index:: position (field)

            **position**: (optional) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ENERGY <NX_ENERGY>`} 

              Position of the peak on the energy axis.

      .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND-group:

      **background**\ :bolditalic:`BACKGROUND`: (required) :ref:`NXpeak` :ref:`⤆ </NXfit/backgroundBACKGROUND-group>`

        .. collapse:: Functional form of one of the fitted XPS backgrounds. ...

            Functional form of one of the fitted XPS backgrounds.

            This concept is related to term `3.21`_ of the ISO 18115-1:2023 standard.

            .. _3.21: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:3.21

        .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/label-field:

        .. index:: label (field)

        **label**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXpeak/label-field>`


        .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/data-group:

        **data**: (required) :ref:`NXdata` :ref:`⤆ </NXpeak/data-group>`


          .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/data/position-field:

          .. index:: position (field)

          **position**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ENERGY <NX_ENERGY>`} :ref:`⤆ </NXpeak/data/position-field>`


          .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/data/intensity-field:

          .. index:: intensity (field)

          **intensity**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXpeak/data/intensity-field>`


        .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/function-group:

        **function**: (recommended) :ref:`NXfit_function` :ref:`⤆ </NXpeak/function-group>`


          .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/function_type-field:

          .. index:: function_type (field)

          **function_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/function_type-field>`

            .. collapse:: Type of fit function used. ...

                Type of fit function used.

                The user is encouraged to use one of the options defined in the enumeration, but in case none of these fit
                (e.g., in the case of very complex line shapes), a different value for the ``function_type`` field
                can be used. In that case in particular, but also if one of the suggested values is used, the functional
                form of the background should be given by the ``formula_description`` field. The user is also encouraged to use the
                ``description`` field for describing the fit function in a human-readable way.

                Any of these values or a custom value (if you use a custom value, also set @custom=True):

                  * ``Linear``:  Linear background, i.e., a simple straight line from the minimal to the maximal abscissa value. The Linear background is the simplest background model, which assumes a straight line between the minimum and maximum binding energy values. This model is used when there is a gradual, uniform increase or decrease in the background across the spectrum.

                  * ``Shirley``:  The Shirley background is based on the idea that the background intensity at any given binding energy is  proportional to the total intensity of the peaks above that background in the lower binding energy range. Essentially, the Shirley background estimates the contribution of the background under each peak and adds them up to define the overall background shape. The Shirley background is commonly used in the analysis of high-resolution XPS data when peaks are located near edges or in regions of significant overlap with the background signal. While the exact mathematical formulation can be complex, the background is represented as an integral over the lower binding energy range to describe the cumulative contribution to the background: :math:`B(x) = \int_{-\infty}^{x} \frac{I(\mu)}{1 + \mu - x} d\mu` where - :math:`I(\mu)` is the intensity of the peaks at binding energy :math:`\mu`, - :math:`x` is the binding energy at the current point.

                  * ``Tougaard``:  The Tougaard background is based on the concept of universal cross-sections and is used for modeling the XPS background in situations where the background is integrated from the peak intensities at each binding energy to higher kinetic energies. It is useful when fitting the background in spectra that display significant low-energy tailing or when the background exhibits a nonlinear rise with binding energy. The model incorporates the notion of electron energy loss and the behavior of the photoelectrons as they travel through the material and lose energy. It is a more sophisticated background model compared to the linear and Shirley approaches. Mathematically, the Tougaard background can be described as: :math:`B(x) = \int_{x_0}^{x} \sigma(E) I(E) \, dE` where - :math:`\sigma(E)` is the universal cross-section at energy :math:`E`, - :math:`I(E)` is the intensity at energy :math:`E`, - :math:`x_0` is the threshold energy for the background.

                  * ``Step Down``:  The Step Down background is commonly used to fit data when a sharp decrease in the signal occurs at a certain binding energy, such as in the case of an abrupt edge or a "step-down" feature in the spectrum. It is modeled using a complementary error function (erf), which provides a smooth transition from the higher intensity region to the lower intensity region. This model is useful when the data exhibits a sharp cutoff, for example when modelling the Fermi Edge. The mathematical expression for the step down background is: :math:`B(x) = A \cdot \text{erfc}\left(\frac{x - x_0}{\sigma}\right)` where - :math:`A` is the amplitude, - :math:`x_0` is the threshold binding energy where the step occurs, - :math:`\sigma` is the width of the transition region, - :math:`\text{erfc}(x)` is the complementary error function.

                  * ``Step Up``:  The Step Up background is similar to the Step Down background but is used to model a sharp increase in intensity, such as when a peak or feature rises suddenly above the baseline. This background is also modeled using the complementary error function, providing a smooth transition from a low intensity region to a high intensity region. The mathematical formulation for the step up background is: :math:`B(x) = A \cdot \text{erf}\left(\frac{x - x_0}{\sigma}\right)` where - :math:`A` is the amplitude, - :math:`x_0` is the binding energy where the step up begins, - :math:`\sigma` is the width of the transition, - :math:`\text{erf}(x)` is the error function.


          .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/description-field:

          .. index:: description (field)

          **description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/description-field>`

            Human-readable description of the background fit function.

          .. _/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/formula_description-field:

          .. index:: formula_description (field)

          **formula_description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/formula_description-field>`


      .. _/NXxps/ENTRY/FIT/global_fit_function-group:

      **global_fit_function**: (recommended) :ref:`NXfit_function` :ref:`⤆ </NXfit/global_fit_function-group>`


        .. _/NXxps/ENTRY/FIT/global_fit_function/function_type-field:

        .. index:: function_type (field)

        **function_type**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/function_type-field>`


        .. _/NXxps/ENTRY/FIT/global_fit_function/description-field:

        .. index:: description (field)

        **description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/description-field>`


        .. _/NXxps/ENTRY/FIT/global_fit_function/formula_description-field:

        .. index:: formula_description (field)

        **formula_description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit/global_fit_function/formula_description-field>`


      .. _/NXxps/ENTRY/FIT/error_function-group:

      **error_function**: (recommended) :ref:`NXfit_function` :ref:`⤆ </NXfit/error_function-group>`


        .. _/NXxps/ENTRY/FIT/error_function/function_type-field:

        .. index:: function_type (field)

        **function_type**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit_function/function_type-field>`


        .. _/NXxps/ENTRY/FIT/error_function/description-field:

        .. index:: description (field)

        **description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit/error_function/description-field>`


        .. _/NXxps/ENTRY/FIT/error_function/formula_description-field:

        .. index:: formula_description (field)

        **formula_description**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXfit/error_function/formula_description-field>`


    .. _/NXxps/ENTRY/SAMPLE-group:

    :bolditalic:`SAMPLE`: (required) :ref:`NXsample` :ref:`⤆ </NXmpes/ENTRY/SAMPLE-group>`


      .. _/NXxps/ENTRY/SAMPLE/depends_on-field:

      .. index:: depends_on (field)

      **depends_on**: (recommended) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXcomponent/depends_on-field>`

        .. collapse:: Reference to the transformation describing the orientation of the sample ...

            Reference to the transformation describing the orientation of the sample
            relative to a defined coordinate system.

      .. _/NXxps/ENTRY/SAMPLE/transformations-group:

      **transformations**: (recommended) :ref:`NXtransformations` :ref:`⤆ </NXcomponent/TRANSFORMATIONS-group>`


        .. _/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle-field:

        .. index:: sample_rotation_angle (field)

        **sample_rotation_angle**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

          Rotation about the sample normal.

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@transformation_type-attribute:

          .. index:: transformation_type (field attribute)

          **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


            Obligatory value: ``rotation``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@vector-attribute:

          .. index:: vector (field attribute)

          **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


            Obligatory value: ``[0, 0, 1]``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@depends_on-attribute:

          .. index:: depends_on (field attribute)

          **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`


            Obligatory value: ``sample_normal_polar_angle_of_tilt``

        .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt-field:

        .. index:: sample_normal_polar_angle_of_tilt (field)

        **sample_normal_polar_angle_of_tilt**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

          .. collapse:: Polar tilt of the sample with respect to the upward z-direction, defined ...

              Polar tilt of the sample with respect to the upward z-direction, defined by
              the sample stage.

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@transformation_type-attribute:

          .. index:: transformation_type (field attribute)

          **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


            Obligatory value: ``rotation``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@vector-attribute:

          .. index:: vector (field attribute)

          **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


            Obligatory value: ``[-1, 0, 0]``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@depends_on-attribute:

          .. index:: depends_on (field attribute)

          **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`


            Obligatory value: ``sample_normal_tilt_azimuth_angle``

        .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle-field:

        .. index:: sample_normal_tilt_azimuth_angle (field)

        **sample_normal_tilt_azimuth_angle**: (required) :ref:`NX_NUMBER <NX_NUMBER>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} :ref:`⤆ </NXtransformations/AXISNAME-field>`

          .. collapse:: Azimuthal rotation of the sample from the y-direction defined by the sam ...

              Azimuthal rotation of the sample from the y-direction defined by the sample
              stage.

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@transformation_type-attribute:

          .. index:: transformation_type (field attribute)

          **@transformation_type**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@transformation_type-attribute>`


            Obligatory value: ``rotation``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@vector-attribute:

          .. index:: vector (field attribute)

          **@vector**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXtransformations/AXISNAME@vector-attribute>`


            Obligatory value: ``[0, 0, 1]``

          .. _/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@depends_on-attribute:

          .. index:: depends_on (field attribute)

          **@depends_on**: (required) :ref:`NX_CHAR <NX_CHAR>` :ref:`⤆ </NXtransformations/AXISNAME@depends_on-attribute>`

            .. collapse:: This should point to the coordinate system defined in ...

                This should point to the coordinate system defined in
                /entry/xps_coordinate_system.

    .. _/NXxps/ENTRY/DATA-group:

    :bolditalic:`DATA`: (required) :ref:`NXdata` :ref:`⤆ </NXmpes/ENTRY/DATA-group>`


      .. _/NXxps/ENTRY/DATA@energy_indices-attribute:

      .. index:: energy_indices (group attribute)

      **@energy_indices**: (required) :ref:`NX_INT <NX_INT>` :ref:`⤆ </NXmpes/ENTRY/DATA@energy_indices-attribute>`


      .. _/NXxps/ENTRY/DATA/energy-field:

      .. index:: energy (field)

      **energy**: (required) :ref:`NX_NUMBER <NX_NUMBER>` :ref:`⤆ </NXmpes/ENTRY/DATA/energy-field>`



Hypertext Anchors
-----------------

List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.


* :ref:`/NXxps/ENTRY-group </NXxps/ENTRY-group>`
* :ref:`/NXxps/ENTRY/DATA-group </NXxps/ENTRY/DATA-group>`
* :ref:`/NXxps/ENTRY/DATA/energy-field </NXxps/ENTRY/DATA/energy-field>`
* :ref:`/NXxps/ENTRY/DATA@energy_indices-attribute </NXxps/ENTRY/DATA@energy_indices-attribute>`
* :ref:`/NXxps/ENTRY/definition-field </NXxps/ENTRY/definition-field>`
* :ref:`/NXxps/ENTRY/energy_referencing-group </NXxps/ENTRY/energy_referencing-group>`
* :ref:`/NXxps/ENTRY/FIT-group </NXxps/ENTRY/FIT-group>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND-group </NXxps/ENTRY/FIT/backgroundBACKGROUND-group>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/data-group </NXxps/ENTRY/FIT/backgroundBACKGROUND/data-group>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/data/intensity-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/data/intensity-field>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/data/position-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/data/position-field>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/function-group </NXxps/ENTRY/FIT/backgroundBACKGROUND/function-group>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/description-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/function/description-field>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/formula_description-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/function/formula_description-field>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/function/function_type-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/function/function_type-field>`
* :ref:`/NXxps/ENTRY/FIT/backgroundBACKGROUND/label-field </NXxps/ENTRY/FIT/backgroundBACKGROUND/label-field>`
* :ref:`/NXxps/ENTRY/FIT/data-group </NXxps/ENTRY/FIT/data-group>`
* :ref:`/NXxps/ENTRY/FIT/data/fit_sum-field </NXxps/ENTRY/FIT/data/fit_sum-field>`
* :ref:`/NXxps/ENTRY/FIT/data/input_dependent-field </NXxps/ENTRY/FIT/data/input_dependent-field>`
* :ref:`/NXxps/ENTRY/FIT/data/input_independent-field </NXxps/ENTRY/FIT/data/input_independent-field>`
* :ref:`/NXxps/ENTRY/FIT/data/residual-field </NXxps/ENTRY/FIT/data/residual-field>`
* :ref:`/NXxps/ENTRY/FIT/error_function-group </NXxps/ENTRY/FIT/error_function-group>`
* :ref:`/NXxps/ENTRY/FIT/error_function/description-field </NXxps/ENTRY/FIT/error_function/description-field>`
* :ref:`/NXxps/ENTRY/FIT/error_function/formula_description-field </NXxps/ENTRY/FIT/error_function/formula_description-field>`
* :ref:`/NXxps/ENTRY/FIT/error_function/function_type-field </NXxps/ENTRY/FIT/error_function/function_type-field>`
* :ref:`/NXxps/ENTRY/FIT/figure_of_meritMETRIC-field </NXxps/ENTRY/FIT/figure_of_meritMETRIC-field>`
* :ref:`/NXxps/ENTRY/FIT/figure_of_meritMETRIC@metric-attribute </NXxps/ENTRY/FIT/figure_of_meritMETRIC@metric-attribute>`
* :ref:`/NXxps/ENTRY/FIT/global_fit_function-group </NXxps/ENTRY/FIT/global_fit_function-group>`
* :ref:`/NXxps/ENTRY/FIT/global_fit_function/description-field </NXxps/ENTRY/FIT/global_fit_function/description-field>`
* :ref:`/NXxps/ENTRY/FIT/global_fit_function/formula_description-field </NXxps/ENTRY/FIT/global_fit_function/formula_description-field>`
* :ref:`/NXxps/ENTRY/FIT/global_fit_function/function_type-field </NXxps/ENTRY/FIT/global_fit_function/function_type-field>`
* :ref:`/NXxps/ENTRY/FIT/label-field </NXxps/ENTRY/FIT/label-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK-group </NXxps/ENTRY/FIT/peakPEAK-group>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/data-group </NXxps/ENTRY/FIT/peakPEAK/data-group>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/data/intensity-field </NXxps/ENTRY/FIT/peakPEAK/data/intensity-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/data/position-field </NXxps/ENTRY/FIT/peakPEAK/data/position-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function-group </NXxps/ENTRY/FIT/peakPEAK/function-group>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/description-field </NXxps/ENTRY/FIT/peakPEAK/function/description-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters-group </NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters-group>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/area-field </NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/area-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/position-field </NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/position-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/width-field </NXxps/ENTRY/FIT/peakPEAK/function/fit_parameters/width-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/formula_description-field </NXxps/ENTRY/FIT/peakPEAK/function/formula_description-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/function/function_type-field </NXxps/ENTRY/FIT/peakPEAK/function/function_type-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/label-field </NXxps/ENTRY/FIT/peakPEAK/label-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/relative_atomic_concentration-field </NXxps/ENTRY/FIT/peakPEAK/relative_atomic_concentration-field>`
* :ref:`/NXxps/ENTRY/FIT/peakPEAK/total_area-field </NXxps/ENTRY/FIT/peakPEAK/total_area-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT-group </NXxps/ENTRY/INSTRUMENT-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe-group </NXxps/ENTRY/INSTRUMENT/beam_probe-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/depends_on-field </NXxps/ENTRY/INSTRUMENT/beam_probe/depends_on-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations-group </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle-field </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@depends_on-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@transformation_type-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@vector-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_azimuth_angle@vector-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction-field </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@depends_on-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@vector-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_direction@vector-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence-field </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@depends_on-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@transformation_type-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@vector-attribute </NXxps/ENTRY/INSTRUMENT/beam_probe/transformations/beam_polar_angle_of_incidence@vector-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER-group </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN-group </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN/magnification-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/COLLECTIONCOLUMN/magnification-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/depends_on-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/depends_on-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION-group </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/energy_scan_mode-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/energy_scan_mode-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/radius-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/ENERGYDISPERSION/radius-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations-group </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@depends_on-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@transformation_type-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@vector-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_azimuth_angle@vector-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@depends_on-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@transformation_type-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@vector-attribute </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transformations/analyzer_take_off_polar_angle@vector-attribute>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transmission_function-group </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/transmission_function-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/work_function-field </NXxps/ENTRY/INSTRUMENT/ELECTRONANALYZER/work_function-field>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/source_probe-group </NXxps/ENTRY/INSTRUMENT/source_probe-group>`
* :ref:`/NXxps/ENTRY/INSTRUMENT/source_probe/power-field </NXxps/ENTRY/INSTRUMENT/source_probe/power-field>`
* :ref:`/NXxps/ENTRY/method-field </NXxps/ENTRY/method-field>`
* :ref:`/NXxps/ENTRY/SAMPLE-group </NXxps/ENTRY/SAMPLE-group>`
* :ref:`/NXxps/ENTRY/SAMPLE/depends_on-field </NXxps/ENTRY/SAMPLE/depends_on-field>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations-group </NXxps/ENTRY/SAMPLE/transformations-group>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt-field </NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt-field>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@depends_on-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@transformation_type-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@vector-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_polar_angle_of_tilt@vector-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle-field </NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle-field>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@depends_on-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@transformation_type-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@vector-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_normal_tilt_azimuth_angle@vector-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle-field </NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle-field>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@depends_on-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@depends_on-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@transformation_type-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@transformation_type-attribute>`
* :ref:`/NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@vector-attribute </NXxps/ENTRY/SAMPLE/transformations/sample_rotation_angle@vector-attribute>`
* :ref:`/NXxps/ENTRY/transitions-field </NXxps/ENTRY/transitions-field>`
* :ref:`/NXxps/ENTRY/transmission_correction-group </NXxps/ENTRY/transmission_correction-group>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system-group </NXxps/ENTRY/xps_coordinate_system-group>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/depends_on-field </NXxps/ENTRY/xps_coordinate_system/depends_on-field>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/origin-field </NXxps/ENTRY/xps_coordinate_system/origin-field>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/TRANSFORMATIONS-group </NXxps/ENTRY/xps_coordinate_system/TRANSFORMATIONS-group>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/x-field </NXxps/ENTRY/xps_coordinate_system/x-field>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/y-field </NXxps/ENTRY/xps_coordinate_system/y-field>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/z-field </NXxps/ENTRY/xps_coordinate_system/z-field>`
* :ref:`/NXxps/ENTRY/xps_coordinate_system/z_direction-field </NXxps/ENTRY/xps_coordinate_system/z_direction-field>`

**NXDL Source**:
  https://github.com/nexusformat/definitions/blob/main/applications/NXxps.nxdl.xml
