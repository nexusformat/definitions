.. auto-generated by dev_tools.docs.nxdl from the NXDL source base_classes/NXapm_reconstruction.nxdl.xml -- DO NOT EDIT

.. index::
    ! NXapm_reconstruction (base class)
    ! apm_reconstruction (base class)
    see: apm_reconstruction (base class); NXapm_reconstruction

.. _NXapm_reconstruction:

====================
NXapm_reconstruction
====================

..
    Contributors List

    .. |contrib_name| replace:: Peter Chang|PeterC-DLS|https://avatars.githubusercontent.com/u/1381719?v=4|2026-02-19

**Status**:

  base class, extends :ref:`NXprocess`

**Description**:

  .. collapse:: Base class for the configuration and results of a reconstruction algorithm. ...

      Base class for the configuration and results of a reconstruction algorithm.

      Generating a tomographic reconstruction of the specimen uses selected and
      calibrated ion hit positions, the evaporation sequence, and voltage curve data.
      Very often scientists use own software scripts according to published procedures,
      so-called reconstruction protocols.

**Symbols**:

  The symbols used in the schema to specify e.g. dimensions of arrays.

  **n**: Number of ions spatially filtered from results of the hit_finding algorithm from which an instance of a reconstructed volume has been generated. These ions get new identifier assigned in the process - the so-called evaporation_id, which must not be confused with the pulse_id!

**Groups cited**:
  :ref:`NXcollection`, :ref:`NXdata`, :ref:`NXnote`, :ref:`NXparameters`, :ref:`NXprocess`, :ref:`NXprogram`

.. index:: NXprogram (base class); used in base class, NXnote (base class); used in base class, NXparameters (base class); used in base class, NXprocess (base class); used in base class, NXdata (base class); used in base class, NXcollection (base class); used in base class

**Structure**:

  .. _/NXapm_reconstruction/reconstructed_positions-field:

  .. index:: reconstructed_positions (field)

  **reconstructed_positions**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` (Rank: 2, Dimensions: [n, 3]) {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

    Three-dimensional positions of the ions in the reconstructed volume.

    .. _/NXapm_reconstruction/reconstructed_positions@depends_on-attribute:

    .. index:: depends_on (field attribute)

    **@depends_on**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      The instance of :ref:`NXcoordinate_system` in which the positions are defined.

  .. _/NXapm_reconstruction/quality-field:

  .. index:: quality (field)

  **quality**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

    .. collapse:: Qualitative statement about the reconstruction. ...

        Qualitative statement about the reconstruction.

        The value can be extracted from the CAnalysis.CResults.fQuality
        field of a CamecaRoot ROOT file.

  .. _/NXapm_reconstruction/volume-field:

  .. index:: volume (field)

  **volume**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_VOLUME <NX_VOLUME>`} 

    .. collapse:: Sum of ion volumes ...

        Sum of ion volumes

        The value can be extracted from the CAnalysis.CSpatial.fRecoVolume
        field of a CamecaRoot ROOT file.

  .. _/NXapm_reconstruction/field_of_view-field:

  .. index:: field_of_view (field)

  **field_of_view**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

    .. collapse:: The nominal diameter of the specimen ROI which is measured in the ...

        The nominal diameter of the specimen ROI which is measured in the
        experiment. The physical specimen cannot be measured completely
        because ions may launch but hit in locations other than the detector.

  .. _/NXapm_reconstruction/PROGRAM-group:

  :bolditalic:`PROGRAM`: (optional) :ref:`NXprogram` 


  .. _/NXapm_reconstruction/NOTE-group:

  :bolditalic:`NOTE`: (optional) :ref:`NXnote` :ref:`⤆ </NXprocess/NOTE-group>`


  .. _/NXapm_reconstruction/config-group:

  **config**: (optional) :ref:`NXparameters` :ref:`⤆ </NXprocess/PARAMETERS-group>`

    .. collapse:: Parameters that configure a reconstruction algorithm which takes ...

        Parameters that configure a reconstruction algorithm which takes
        hit data and mass-to-charge-state ratio values to construct a model
        of the evaporated specimen. This model is called the reconstructed volume.
        Researchers in the field of atom probe call these algorithms reconstruction
        protocols.

        Different such protocols exist. Although these are qualitatively similar,
        each protocol uses and interprets the parameters slightly differently.

        The majority of reconstructions is performed with the proprietary software
        APSuite / IVAS, the source code for the reconstruction protocols that this
        software implements in detail is not open but the parameters and their qualitative
        effect on the reconstructed volume follows the protocols that are discussed in
        the atom probe literature. This group allows to document these parameters in
        a standardized manner.

    .. _/NXapm_reconstruction/config/voltage_filter_initial-field:

    .. index:: voltage_filter_initial (field)

    **voltage_filter_initial**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_VOLTAGE <NX_VOLTAGE>`} 

      .. collapse:: Lowest voltage at which an ion that is considered in the reconstructed ...

          Lowest voltage at which an ion that is considered in the reconstructed
          volume has been extracted from the specimen.

    .. _/NXapm_reconstruction/config/voltage_filter_final-field:

    .. index:: voltage_filter_final (field)

    **voltage_filter_final**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_VOLTAGE <NX_VOLTAGE>`} 

      .. collapse:: Highest voltage at which an ion that is considered in the reconstructed ...

          Highest voltage at which an ion that is considered in the reconstructed
          volume has been extracted from the specimen.

    .. _/NXapm_reconstruction/config/protocol_name-field:

    .. index:: protocol_name (field)

    **protocol_name**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: Qualitative statement about which reconstruction protocol was used. ...

          Qualitative statement about which reconstruction protocol was used.

          For reconstructions performed with APSuite / IVAS the value "cameca"
          should be used.

          Any of these values or a custom value (if you use a custom value, also set @custom=True): ``bas`` | ``geiser`` | ``gault`` | ``cameca``

    .. _/NXapm_reconstruction/config/primary_element-field:

    .. index:: primary_element (field)

    **primary_element**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: Assumed primary element based on which the reconstruction is calibrated. ...

          Assumed primary element based on which the reconstruction is calibrated.

          The value can be extracted from the CAnalysis.CSpatial.fPrimaryElement
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/efficiency-field:

    .. index:: efficiency (field)

    **efficiency**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_DIMENSIONLESS <NX_DIMENSIONLESS>`} 

      .. collapse:: Assumed detection efficiency ...

          Assumed detection efficiency

          The value can be extracted from the CAnalysis.CSpatial.fEfficiency
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/flight_path-field:

    .. index:: flight_path (field)

    **flight_path**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      .. collapse:: Nominal flight path ...

          Nominal flight path

          The value can be extracted from the CAnalysis.CSpatial.fFlightPath
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/evaporation_field-field:

    .. index:: evaporation_field (field)

    **evaporation_field**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANY <NX_ANY>`} 

      .. collapse:: Assumed evaporation electric field ...

          Assumed evaporation electric field

          The value can be extracted from the CAnalysis.CSpatial.fEvaporationField
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/image_compression-field:

    .. index:: image_compression (field)

    **image_compression**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_UNITLESS <NX_UNITLESS>`} 

      .. collapse:: Image compression factor (ICF) ...

          Image compression factor (ICF)

          The value can be extracted from the CAnalysis.CSpatial.fImageCompression
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/kfactor-field:

    .. index:: kfactor (field)

    **kfactor**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_UNITLESS <NX_UNITLESS>`} 

      .. collapse:: The factor :math:`k` in :math:`R_0 = \frac{V}{kF}` with :math:`R_0` tip_radi ...

          The factor :math:`k` in :math:`R_0 = \frac{V}{kF}` with :math:`R_0` tip_radius_zero
          :math:`V` the voltage and :math:`F` the evaporation field.

          The value can be extracted from the CAnalysis.CSpatial.fKfactor
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/shank_angle-field:

    .. index:: shank_angle (field)

    **shank_angle**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_ANGLE <NX_ANGLE>`} 

      .. collapse:: Shank angle ...

          Shank angle

          The value can be extracted from the CAnalysis.CSpatial.fShankAngle
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/ion_volume-field:

    .. index:: ion_volume (field)

    **ion_volume**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_VOLUME <NX_VOLUME>`} 

      Assumed atomic volume

    .. _/NXapm_reconstruction/config/tip_radius-field:

    .. index:: tip_radius (field)

    **tip_radius**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      .. collapse:: The value can be extracted from the CAnalysis.CSpatial.fTipRadius ...

          The value can be extracted from the CAnalysis.CSpatial.fTipRadius
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/tip_radius_zero-field:

    .. index:: tip_radius_zero (field)

    **tip_radius_zero**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      .. collapse:: The value can be extracted from the CAnalysis.CSpatial.fTipRadius0 ...

          The value can be extracted from the CAnalysis.CSpatial.fTipRadius0
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/voltage_zero-field:

    .. index:: voltage_zero (field)

    **voltage_zero**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_VOLTAGE <NX_VOLTAGE>`} 

      .. collapse:: The value can be extracted from the CAnalysis.CSpatial.fVoltage0 ...

          The value can be extracted from the CAnalysis.CSpatial.fVoltage0
          field of a CamecaRoot ROOT file.

    .. _/NXapm_reconstruction/config/crystallographic_calibration-field:

    .. index:: crystallographic_calibration (field)

    **crystallographic_calibration**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: Different strategies for crystallographic calibration of the ...

          Different strategies for crystallographic calibration of the
          reconstruction are possible. Therefore, we collect first such
          feedback before parametrizing this further.

          If no crystallographic calibration was performed, the field
          should be filled with the n/a, meaning not applied.

    .. _/NXapm_reconstruction/config/comment-field:

    .. index:: comment (field)

    **comment**: (optional) :ref:`NX_CHAR <NX_CHAR>` 

      .. collapse:: Possibility of a free text field that allows to report additional details re ...

          Possibility of a free text field that allows to report additional details related to
          the reconstruction protocol. For LEAP systems and reconstructions that are
          performed with APSuite / IVAS see also `B. Gault et al. <https://doi.org/10.1093/mam/ozae081>_`
          and `T. Blum et al. <https://doi.org/10.1002/9781119227250.ch18>`_ (page 371).
          for best practices on the reporting of metadata in atom probe tomography.

          The value can be extracted from the CAnalysis.CResults.fComments
          field of a CamecaRoot ROOT file.

  .. _/NXapm_reconstruction/naive_discretization-group:

  **naive_discretization**: (optional) :ref:`NXprocess` 


    .. _/NXapm_reconstruction/naive_discretization/PROGRAM-group:

    :bolditalic:`PROGRAM`: (optional) :ref:`NXprogram` 


    .. _/NXapm_reconstruction/naive_discretization/DATA-group:

    :bolditalic:`DATA`: (optional) :ref:`NXdata` :ref:`⤆ </NXprocess/DATA-group>`

      .. collapse:: Visual overview of the reconstructed dataset via a three-dimensional ...

          Visual overview of the reconstructed dataset via a three-dimensional
          histogram of ion counts. Ion counts are characterized using one nanometer
          cubic bins without applying any smoothening of reconstructed positions
          during the histogram computation.

          Such preview is useful to get an impression of the macroscopic shape of the
          reconstructed volume. Visualizing by ion counts highlights density variations
          the reconstructed volume that are signatures of features such as poles,
          interfaces or irregularities of the specimen shape.

  .. _/NXapm_reconstruction/obb-group:

  **obb**: (optional) :ref:`NXcollection` :ref:`⤆ </NXobject/COLLECTION-group>`

    Tight, axis-aligned bounding box about the point cloud of the reconstruction.

    .. _/NXapm_reconstruction/obb/xmin-field:

    .. index:: xmin (field)

    **xmin**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Minimum coordinate value along the x-direction

    .. _/NXapm_reconstruction/obb/xmax-field:

    .. index:: xmax (field)

    **xmax**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Maximum coordinate value along the x-direction

    .. _/NXapm_reconstruction/obb/ymin-field:

    .. index:: ymin (field)

    **ymin**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Minimum coordinate value along the y-direction

    .. _/NXapm_reconstruction/obb/ymax-field:

    .. index:: ymax (field)

    **ymax**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Maximum coordinate value along the y-direction

    .. _/NXapm_reconstruction/obb/zmin-field:

    .. index:: zmin (field)

    **zmin**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Minimum coordinate value along the z-direction

    .. _/NXapm_reconstruction/obb/zmax-field:

    .. index:: zmax (field)

    **zmax**: (optional) :ref:`NX_FLOAT <NX_FLOAT>` {units=\ :ref:`NX_LENGTH <NX_LENGTH>`} 

      Maximum coordinate value along the z-direction


Hypertext Anchors
-----------------

List of hypertext anchors for all groups, fields,
attributes, and links defined in this class.


* :ref:`/NXapm_reconstruction/config-group </NXapm_reconstruction/config-group>`
* :ref:`/NXapm_reconstruction/config/comment-field </NXapm_reconstruction/config/comment-field>`
* :ref:`/NXapm_reconstruction/config/crystallographic_calibration-field </NXapm_reconstruction/config/crystallographic_calibration-field>`
* :ref:`/NXapm_reconstruction/config/efficiency-field </NXapm_reconstruction/config/efficiency-field>`
* :ref:`/NXapm_reconstruction/config/evaporation_field-field </NXapm_reconstruction/config/evaporation_field-field>`
* :ref:`/NXapm_reconstruction/config/flight_path-field </NXapm_reconstruction/config/flight_path-field>`
* :ref:`/NXapm_reconstruction/config/image_compression-field </NXapm_reconstruction/config/image_compression-field>`
* :ref:`/NXapm_reconstruction/config/ion_volume-field </NXapm_reconstruction/config/ion_volume-field>`
* :ref:`/NXapm_reconstruction/config/kfactor-field </NXapm_reconstruction/config/kfactor-field>`
* :ref:`/NXapm_reconstruction/config/primary_element-field </NXapm_reconstruction/config/primary_element-field>`
* :ref:`/NXapm_reconstruction/config/protocol_name-field </NXapm_reconstruction/config/protocol_name-field>`
* :ref:`/NXapm_reconstruction/config/shank_angle-field </NXapm_reconstruction/config/shank_angle-field>`
* :ref:`/NXapm_reconstruction/config/tip_radius-field </NXapm_reconstruction/config/tip_radius-field>`
* :ref:`/NXapm_reconstruction/config/tip_radius_zero-field </NXapm_reconstruction/config/tip_radius_zero-field>`
* :ref:`/NXapm_reconstruction/config/voltage_filter_final-field </NXapm_reconstruction/config/voltage_filter_final-field>`
* :ref:`/NXapm_reconstruction/config/voltage_filter_initial-field </NXapm_reconstruction/config/voltage_filter_initial-field>`
* :ref:`/NXapm_reconstruction/config/voltage_zero-field </NXapm_reconstruction/config/voltage_zero-field>`
* :ref:`/NXapm_reconstruction/field_of_view-field </NXapm_reconstruction/field_of_view-field>`
* :ref:`/NXapm_reconstruction/naive_discretization-group </NXapm_reconstruction/naive_discretization-group>`
* :ref:`/NXapm_reconstruction/naive_discretization/DATA-group </NXapm_reconstruction/naive_discretization/DATA-group>`
* :ref:`/NXapm_reconstruction/naive_discretization/PROGRAM-group </NXapm_reconstruction/naive_discretization/PROGRAM-group>`
* :ref:`/NXapm_reconstruction/NOTE-group </NXapm_reconstruction/NOTE-group>`
* :ref:`/NXapm_reconstruction/obb-group </NXapm_reconstruction/obb-group>`
* :ref:`/NXapm_reconstruction/obb/xmax-field </NXapm_reconstruction/obb/xmax-field>`
* :ref:`/NXapm_reconstruction/obb/xmin-field </NXapm_reconstruction/obb/xmin-field>`
* :ref:`/NXapm_reconstruction/obb/ymax-field </NXapm_reconstruction/obb/ymax-field>`
* :ref:`/NXapm_reconstruction/obb/ymin-field </NXapm_reconstruction/obb/ymin-field>`
* :ref:`/NXapm_reconstruction/obb/zmax-field </NXapm_reconstruction/obb/zmax-field>`
* :ref:`/NXapm_reconstruction/obb/zmin-field </NXapm_reconstruction/obb/zmin-field>`
* :ref:`/NXapm_reconstruction/PROGRAM-group </NXapm_reconstruction/PROGRAM-group>`
* :ref:`/NXapm_reconstruction/quality-field </NXapm_reconstruction/quality-field>`
* :ref:`/NXapm_reconstruction/reconstructed_positions-field </NXapm_reconstruction/reconstructed_positions-field>`
* :ref:`/NXapm_reconstruction/reconstructed_positions@depends_on-attribute </NXapm_reconstruction/reconstructed_positions@depends_on-attribute>`
* :ref:`/NXapm_reconstruction/volume-field </NXapm_reconstruction/volume-field>`

**NXDL Source**:
  https://github.com/nexusformat/definitions/blob/main/base_classes/NXapm_reconstruction.nxdl.xml
