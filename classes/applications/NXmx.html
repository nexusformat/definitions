



<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>3.3.2.10. NXmx &#8212; nexus v2020.1 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="3.3.2.11. NXrefscan" href="NXrefscan.html" />
    <link rel="prev" title="3.3.2.9. NXmonopd" href="NXmonopd.html" /> 
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="NXrefscan.html" title="3.3.2.11. NXrefscan"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="NXmonopd.html" title="3.3.2.9. NXmonopd"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2020.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" ><span class="section-number">3. </span>NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.3. </span>NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U"><span class="section-number">3.3.2. </span>Application Definitions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="NXmonopd.html"
                        title="previous chapter"><span class="section-number">3.3.2.9. </span>NXmonopd</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="NXrefscan.html"
                        title="next chapter"><span class="section-number">3.3.2.11. </span>NXrefscan</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/classes/applications/NXmx.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="https://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="manual.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nxmx">
<span id="index-0"></span><span id="id1"></span><h1><span class="section-number">3.3.2.10. </span>NXmx<a class="headerlink" href="#nxmx" title="Permalink to this headline">¶</a></h1>
<p><strong>Status</strong>:</p>
<blockquote>
<div><p>application definition, extends <a class="reference internal" href="../base_classes/NXobject.html#nxobject"><span class="std std-ref">NXobject</span></a></p>
</div></blockquote>
<p><strong>Description</strong>:</p>
<blockquote>
<div><p>functional application definition for macromolecular crystallography</p>
</div></blockquote>
<p><strong>Symbols</strong>:</p>
<blockquote>
<div><p>These symbols will be used below to coordinate datasets
with the same shape.  Most MX x-ray detectors will produce
two-dimensional images.  Some will produce three-dimensional
images, using one of the indices to select a detector module.</p>
<p><strong>dataRank</strong>: rank of the <code class="docutils literal notranslate"><span class="pre">data</span></code> field</p>
<p><strong>np</strong>: number of scan points</p>
<p><strong>i</strong>: number of detector pixels in the slowest direction</p>
<p><strong>j</strong>: number of detector pixels in the second slowest direction</p>
<p><strong>k</strong>: number of detector pixels in the third slowest direction</p>
<p><strong>m</strong>: number of channels in the incident beam spectrum, if known</p>
</div></blockquote>
<dl class="simple">
<dt><strong>Groups cited</strong>:</dt><dd><p><a class="reference internal" href="../base_classes/NXattenuator.html#nxattenuator"><span class="std std-ref">NXattenuator</span></a>, <a class="reference internal" href="../base_classes/NXbeam.html#nxbeam"><span class="std std-ref">NXbeam</span></a>, <a class="reference internal" href="../base_classes/NXcollection.html#nxcollection"><span class="std std-ref">NXcollection</span></a>, <a class="reference internal" href="../base_classes/NXdata.html#nxdata"><span class="std std-ref">NXdata</span></a>, <a class="reference internal" href="../base_classes/NXdetector_group.html#nxdetector-group"><span class="std std-ref">NXdetector_group</span></a>, <a class="reference internal" href="../base_classes/NXdetector_module.html#nxdetector-module"><span class="std std-ref">NXdetector_module</span></a>, <a class="reference internal" href="../base_classes/NXdetector.html#nxdetector"><span class="std std-ref">NXdetector</span></a>, <a class="reference internal" href="../base_classes/NXentry.html#nxentry"><span class="std std-ref">NXentry</span></a>, <a class="reference internal" href="../base_classes/NXinstrument.html#nxinstrument"><span class="std std-ref">NXinstrument</span></a>, <a class="reference internal" href="../base_classes/NXsample.html#nxsample"><span class="std std-ref">NXsample</span></a>, <a class="reference internal" href="../base_classes/NXsource.html#nxsource"><span class="std std-ref">NXsource</span></a>, <a class="reference internal" href="../base_classes/NXtransformations.html#nxtransformations"><span class="std std-ref">NXtransformations</span></a></p>
</dd>
</dl>
<p id="index-1"><strong>Structure</strong>:</p>
<blockquote>
<div><p><strong>ENTRY</strong>: (required) <a class="reference internal" href="../base_classes/NXentry.html#nxentry"><span class="std std-ref">NXentry</span></a></p>
<blockquote>
<div><p>Note, it is recommended that <code class="docutils literal notranslate"><span class="pre">file_name</span></code> and <code class="docutils literal notranslate"><span class="pre">file_time</span></code> are included
as attributes at the root of a file that includes  <a class="reference internal" href="#nxmx"><span class="std std-ref">NXmx</span></a>. See
<a class="reference internal" href="../base_classes/NXroot.html#nxroot"><span class="std std-ref">NXroot</span></a>.</p>
<p id="index-2"><strong>title</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<p id="index-3"><strong>start_time</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><p>ISO 8601 time/date of the first data point collected in UTC,
using the Z suffix to avoid confusion with local time.
Note that the time zone of the beamline should be provided in
NXentry/NXinstrument/time_zone.</p>
</div></blockquote>
<p id="index-4"><strong>end_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><p>ISO 8601 time/date of the last data point collected in UTC,
using the Z suffix to avoid confusion with local time.
Note that the time zone of the beamline should be provided in
NXentry/NXinstrument/time_zone. This field should only be
filled when the value is accurately observed. If the data
collection aborts or otherwise prevents accurate recording of
the end_time, this field should be omitted.</p>
</div></blockquote>
<p id="index-5"><strong>end_time_estimated</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><p>ISO 8601 time/date of the last data point collected in UTC,
using the Z suffix to avoid confusion with local time.
Note that the time zone of the beamline should be provided in
NXentry/NXinstrument/time_zone.  This field may be filled
with a value estimated before an observed value is available.</p>
</div></blockquote>
<p id="index-6"><strong>definition</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>NeXus NXDL schema to which this file conforms</p>
<p>Obligatory value:  <code class="docutils literal notranslate"><span class="pre">NXmx</span></code></p>
</div></blockquote>
<p><strong>DATA</strong>: (required) <a class="reference internal" href="../base_classes/NXdata.html#nxdata"><span class="std std-ref">NXdata</span></a></p>
<blockquote>
<div><p id="index-7"><strong>data[np, i, j, k]</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p>For a dimension-2 detector, the rank of the data array will be 3.
For a dimension-3 detector, the rank of the data array will be 4.
This allows for the introduction of the frame number as the
first index.</p>
</div></blockquote>
</div></blockquote>
<p><strong>SAMPLE</strong>: (required) <a class="reference internal" href="../base_classes/NXsample.html#nxsample"><span class="std std-ref">NXsample</span></a></p>
<blockquote>
<div><p id="index-8"><strong>name</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Descriptive name of sample</p>
</div></blockquote>
<p id="index-9"><strong>depends_on</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>This is a requirement to describe for any scan experiment.</p>
<p>The axis on which the sample position depends may be stored
anywhere, but is normally stored in the NXtransformations
group within the NXsample group.</p>
<p>If there is no goniometer, e.g. with a jet, depends_on
should be set to “.”</p>
</div></blockquote>
<p id="index-10"><strong>temperature</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-temperature"><span class="std std-ref">NX_TEMPERATURE</span></a>}</p>
<p><strong>TRANSFORMATIONS</strong>: (optional) <a class="reference internal" href="../base_classes/NXtransformations.html#nxtransformations"><span class="std std-ref">NXtransformations</span></a></p>
<blockquote>
<div><p>This is the recommended location for sample goniometer
and other related axes.</p>
<p>This is a requirement to describe for any scan experiment.
The reason it is optional is mainly to accommodate XFEL
single shot exposures.</p>
<p>Use of the depends_on field and the NXtransformations group is
strongly recommended.  As noted above this should be an absolute
requirement to have for any scan experiment.</p>
<p>The reason it is optional is mainly to accommodate XFEL
single shot exposures.</p>
</div></blockquote>
</div></blockquote>
<p><strong>INSTRUMENT</strong>: (required) <a class="reference internal" href="../base_classes/NXinstrument.html#nxinstrument"><span class="std std-ref">NXinstrument</span></a></p>
<blockquote>
<div><p id="index-11"><strong>name</strong>: (required) NXchar</p>
<blockquote>
<div><p>Name of instrument.  Consistency with the controlled
vocabulary beamline naming in <a class="reference external" href="http://mmcif.wwpdb.org">http://mmcif.wwpdb.org</a>
/dictionaries/mmcif_pdbx_v50.dic/Items
/_diffrn_source.pdbx_synchrotron_beamline.html
and <a class="reference external" href="http://mmcif.wwpdb.org/dictionaries/mmcif_pdbx_v50.dic">http://mmcif.wwpdb.org/dictionaries/mmcif_pdbx_v50.dic</a>
/Items/_diffrn_source.type.html} is highly recommended.</p>
<p id="index-12"><strong>&#64;short_name</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Short name for instrument, perhaps the acronym.</p>
</div></blockquote>
</div></blockquote>
<p id="index-13"><strong>time_zone</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-date-time"><span class="std std-ref">NX_DATE_TIME</span></a></p>
<blockquote>
<div><p>ISO 8601 time_zone offset from UTC.</p>
</div></blockquote>
<p><strong>ATTENUATOR</strong>: (optional) <a class="reference internal" href="../base_classes/NXattenuator.html#nxattenuator"><span class="std std-ref">NXattenuator</span></a></p>
<blockquote>
<div><p id="index-14"><strong>attenuator_transmission</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-unitless"><span class="std std-ref">NX_UNITLESS</span></a>}</p>
</div></blockquote>
<p><strong>DETECTOR_GROUP</strong>: (recommended) <a class="reference internal" href="../base_classes/NXdetector_group.html#nxdetector-group"><span class="std std-ref">NXdetector_group</span></a></p>
<blockquote>
<div><p>Optional logical grouping of detector elements.</p>
<p>Each detector element is represented as an NXdetector group
with its own detector data array.  Each detector data array
may be further decomposed into array sections by use of
NXdetector_module groups.  The names are given in the
group names field.</p>
<p>The groups are defined hierarchically, with names given
in the group_names field, unique identifiing indices given
in the field group_index, and the level in the hierarchy
given in the group_parent field.  For example if an x-ray
detector, DET, consists of four elements in a rectangular array:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DTL</span>    <span class="n">DTR</span>
<span class="n">DLL</span>    <span class="n">DLR</span>
</pre></div>
</div>
<p>We could have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">group_names</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;DET&quot;</span><span class="p">,</span> <span class="s2">&quot;DTL&quot;</span><span class="p">,</span> <span class="s2">&quot;DTR&quot;</span><span class="p">,</span> <span class="s2">&quot;DLL&quot;</span><span class="p">,</span> <span class="s2">&quot;DLR&quot;</span><span class="p">]</span>
<span class="n">group_index</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">group_parent</span><span class="p">:</span>  <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p id="index-15"><strong>group_names</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>An array of the names of the detector elements or hierarchical
groupings of detector elements.</p>
<p>Specified in the base classes as comma separated list of names,
but new code should use an array of names as quoted strings.</p>
</div></blockquote>
<p id="index-16"><strong>group_index[i]</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>An array of unique indices for detector elements or groupings
of detector elements.</p>
<p>Each element is a unique ID for the corresponding group named
in the field group_names.  The IDs are positive integers starting
with 1.</p>
</div></blockquote>
<p id="index-17"><strong>group_parent[group_index]</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>An array of the hierarchical levels of the parents of detector
elements or groupings of detector elements.</p>
<p>A top-level element or grouping has parent level -1.</p>
</div></blockquote>
</div></blockquote>
<p><strong>DETECTOR</strong>: (required) <a class="reference internal" href="../base_classes/NXdetector.html#nxdetector"><span class="std std-ref">NXdetector</span></a></p>
<blockquote>
<div><p>Normally the detector group will have the name <code class="docutils literal notranslate"><span class="pre">detector</span></code>.
However, in the case of multiple detector elements, each element
needs a uniquely named NXdetector group.</p>
<p id="index-18"><strong>depends_on</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>NeXus path to the detector positioner axis that most directly
supports the detector.  In the case of a single-module
detector, the detector axis chain may start here.</p>
</div></blockquote>
<p id="index-19"><strong>data[np, i, j, k]</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p>For a dimension-2 detector, the rank of the data array will be 3.
For a dimension-3 detector, the rank of the data array will be 4.
This allows for the introduction of the frame number as the
first index.</p>
</div></blockquote>
<p id="index-20"><strong>description</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>name/manufacturer/model/etc. information.</p>
</div></blockquote>
<p id="index-21"><strong>time_per_channel</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-time"><span class="std std-ref">NX_TIME</span></a>}</p>
<blockquote>
<div><p>For a time-of-flight detector this is the scaling
factor to convert from the numeric value reported to
the flight time for a given measurement.</p>
</div></blockquote>
<p id="index-22"><strong>distance</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>Distance from the sample to the beam center.
Normally this value is for guidance only, the proper
geometry can be found following the depends_on axis chain,
But in appropriate cases where the dectector distance
to the sample is observable independent of the axis
chain, that may take precedence over the axis chain
calculation.</p>
</div></blockquote>
<p id="index-23"><strong>distance_derived</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>Boolean to indicate if the distance is a derived, rather than
a primary observation.  If distance_derived true or is not specified,
the distance is assumed to be derived from delector axis
specifications.</p>
</div></blockquote>
<p id="index-24"><strong>dead_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-time"><span class="std std-ref">NX_TIME</span></a>}</p>
<blockquote>
<div><p>Detector dead time.</p>
</div></blockquote>
<p id="index-25"><strong>count_time</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-time"><span class="std std-ref">NX_TIME</span></a>}</p>
<blockquote>
<div><p>Elapsed actual counting time.</p>
</div></blockquote>
<p id="index-26"><strong>beam_center_derived</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>Boolean to indicate if the distance is a derived, rather than
a primary observation.  If true or not provided, that value of
beam_center_derived is assumed to be true.</p>
</div></blockquote>
<p id="index-27"><strong>beam_center_x</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>This is the x position where the direct beam would hit the
detector. This is a length and can be outside of the actual
detector. The length can be in physical units or pixels as
documented by the units attribute.  Normally, this should
be derived from the axis chain, but the direct specification
may take precendence if it is not a derived quantity.</p>
</div></blockquote>
<p id="index-28"><strong>beam_center_y</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>This is the y position where the direct beam would hit the
detector. This is a length and can be outside of the actual
detector. The length can be in physical units or pixels as
documented by the units attribute.  Normally, this should
be derived from the axis chain, but the direct specification
may take precendence if it is not a derived quantity.</p>
</div></blockquote>
<p id="index-29"><strong>angular_calibration_applied</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>True when the angular calibration has been applied in the
electronics, false otherwise.</p>
</div></blockquote>
<p id="index-30"><strong>angular_calibration[i, j, k]</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a></p>
<blockquote>
<div><p>Angular calibration data.</p>
</div></blockquote>
<p id="index-31"><strong>flatfield_applied</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>True when the flat field correction has been applied in the
electronics, false otherwise.</p>
</div></blockquote>
<p id="index-32"><strong>flatfield[i, j, k]</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p>Flat field correction data.  If provided, it is recommended
that it be compressed.</p>
</div></blockquote>
<p id="index-33"><strong>flatfield_error[i, j, k]</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p><strong>* Deprecated form.  Use plural form *</strong>
Errors of the flat field correction data.  If provided, it is recommended
that it be compressed.</p>
</div></blockquote>
<p id="index-34"><strong>flatfield_errors[i, j, k]</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<blockquote>
<div><p>Errors of the flat field correction data.  If provided, it is recommended
that it be compressed.</p>
</div></blockquote>
<p id="index-35"><strong>pixel_mask_applied</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>True when the pixel mask correction has been applied in the
electronics, false otherwise.</p>
</div></blockquote>
<p id="index-36"><strong>pixel_mask[i, j]</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>The 32-bit pixel mask for the detector. Can be either one mask
for the whole dataset (i.e. an array with indices i, j) or
each frame can have its own mask (in which case it would be
an array with indices np, i, j).</p>
<p>Contains a bit field for each pixel to signal dead,
blind, high or otherwise unwanted or undesirable pixels.
They have the following meaning:</p>
<blockquote>
<div><ul class="simple">
<li><p>bit 0: gap (pixel with no sensor)</p></li>
<li><p>bit 1: dead</p></li>
<li><p>bit 2: under-responding</p></li>
<li><p>bit 3: over-responding</p></li>
<li><p>bit 4: noisy</p></li>
<li><p>bit 5: -undefined-</p></li>
<li><dl class="simple">
<dt>bit 6: pixel is part of a cluster of</dt><dd><p>problematic pixels (bit set in addition to others)</p>
</dd>
</dl>
</li>
<li><p>bit 7: -undefined-</p></li>
<li><p>bit 8: user defined mask (e.g. around beamstop)</p></li>
<li><p>bits 9-30: -undefined-</p></li>
<li><p>bit 31: virtual pixel (corner pixel with interpolated value)</p></li>
</ul>
</div></blockquote>
<p>Normal data analysis software would not take pixels into account
when a bit in (mask &amp; 0x0000FFFF) is set. Tag bit in the upper
two bytes would indicate special pixel properties that normally
would not be a sole reason to reject the intensity value (unless
lower bits are set.</p>
<p>If the full bit depths is not required, providing a
mask with fewer bits is permissible.</p>
<p>If needed, additional pixel masks can be specified by
including additional entries named pixel_mask_N, where
N is an integer. For example, a general bad pixel mask
could be specified in pixel_mask that indicates noisy
and dead pixels, and an additional pixel mask from
experiment-specific shadowing could be specified in
pixel_mask_2. The cumulative mask is the bitwise OR
of pixel_mask and any pixel_mask_N entries.</p>
<p>If provided, it is recommended that it be compressed.</p>
</div></blockquote>
<p id="index-37"><strong>countrate_correction_applied</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span class="std std-ref">NX_BOOLEAN</span></a></p>
<blockquote>
<div><p>True when a count-rate correction has already been applied in
the data recorded here, false otherwise.</p>
</div></blockquote>
<p id="index-38"><strong>bit_depth_readout</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>How many bits the electronics record per pixel.</p>
</div></blockquote>
<p id="index-39"><strong>detector_readout_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-time"><span class="std std-ref">NX_TIME</span></a>}</p>
<blockquote>
<div><p>Time it takes to read the detector (typically milliseconds).
This is important to know for time resolved experiments.</p>
</div></blockquote>
<p id="index-40"><strong>frame_time</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-time"><span class="std std-ref">NX_TIME</span></a>}</p>
<blockquote>
<div><p>This is time for each frame. This is exposure_time + readout
time.</p>
</div></blockquote>
<p id="index-41"><strong>gain_setting</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>The gain setting of the detector. This influences background.</p>
</div></blockquote>
<p id="index-42"><strong>saturation_value</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>The value at which the detector goes into saturation.
Data above this value is known to be invalid.</p>
<p>For example, given a saturation_value and an underload_value,
the valid pixels are those less than or equal to the
saturation_value and greater than or equal to the underload_value.</p>
</div></blockquote>
<p id="index-43"><strong>underload_value</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>The lowest value at which pixels for this detector
would be reasonably be measured.</p>
<p>For example, given a saturation_value and an underload_value,
the valid pixels are those less than or equal to the
saturation_value and greater than or equal to the underload_value.</p>
</div></blockquote>
<p id="index-44"><strong>sensor_material</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>At times, radiation is not directly sensed by the detector.
Rather, the detector might sense the output from some
converter like a scintillator.
This is the name of this converter material.</p>
</div></blockquote>
<p id="index-45"><strong>sensor_thickness</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>At times, radiation is not directly sensed by the detector.
Rather, the detector might sense the output from some
converter like a scintillator. This is the thickness of this
converter material.</p>
</div></blockquote>
<p id="index-46"><strong>threshold_energy</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-energy"><span class="std std-ref">NX_ENERGY</span></a>}</p>
<blockquote>
<div><p>Single photon counter detectors can be adjusted for a certain
energy range in which they work optimally. This is the energy
setting for this.  If the detector supports multiple thresholds,
this is an array.</p>
</div></blockquote>
<p id="index-47"><strong>type</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Description of type such as scintillator,
ccd, pixel, image
plate, CMOS, …</p>
</div></blockquote>
<p><strong>TRANSFORMATIONS</strong>: (optional) <a class="reference internal" href="../base_classes/NXtransformations.html#nxtransformations"><span class="std std-ref">NXtransformations</span></a></p>
<blockquote>
<div><p>Location for axes (transformations) to do with the
detector.  In the case of a single-module detector, the
axes of the detector axis chain may be stored here.</p>
</div></blockquote>
<p><strong>COLLECTION</strong>: (optional) <a class="reference internal" href="../base_classes/NXcollection.html#nxcollection"><span class="std std-ref">NXcollection</span></a></p>
<blockquote>
<div><p>Suggested container for detailed non-standard detector
information like corrections applied automatically or
performance settings.</p>
</div></blockquote>
<p><strong>DETECTOR_MODULE</strong>: (required) <a class="reference internal" href="../base_classes/NXdetector_module.html#nxdetector-module"><span class="std std-ref">NXdetector_module</span></a></p>
<blockquote>
<div><p>Many detectors consist of multiple smaller modules that are
operated in sync and store their data in a common dataset.
To allow consistent parsing of the experimental geometry,
this application definiton requires all detectors to
define a detector module, even if there is only one.</p>
<p>This group specifies the hyperslab of data in the data
array associated with the detector that contains the
data for this module.  If the module is associated with
a full data array, rather than with a hyperslab within
a larger array, then a single module should be defined,
spanning the entire array.</p>
<p id="index-48"><strong>data_origin</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>A dimension-2 or dimension-3 field which gives the indices
of the origin of the hyperslab of data for this module in the
main area detector image in the parent NXdetector module.</p>
<p>The data_origin is 0-based.</p>
<p>The frame number dimension (np) is omitted.  Thus the
data_origin field for a dimension-2 dataset with indices (np, i, j)
will be an array with indices (i, j), and for a dimension-3
dataset with indices (np, i, j, k) will be an array with indices
(i, j, k).</p>
<p>The <a class="reference internal" href="../../datarules.html#design-arraystorageorder"><span class="std std-ref">order</span></a> of indices (i, j
or i, j, k) is slow to fast.</p>
</div></blockquote>
<p id="index-49"><strong>data_size</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>Two or three values for the size of the module in pixels in
each direction. Dimensionality and order of indices is the
same as for data_origin.</p>
</div></blockquote>
<p id="index-50"><strong>data_stride</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-int"><span class="std std-ref">NX_INT</span></a></p>
<blockquote>
<div><p>Two or three values for the stride of the module in pixels in
each direction.  By default the stride is [1,1] or [1,1,1],
and this is the most likely case.  This optional field is
included for completeness.</p>
</div></blockquote>
<p id="index-51"><strong>module_offset</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>Offset of the module in regards to the origin of the detector in an
arbitrary direction.</p>
<p id="index-52"><strong>&#64;transformation_type</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Obligatory value:  <code class="docutils literal notranslate"><span class="pre">translation</span></code></p>
</div></blockquote>
<p id="index-53"><strong>&#64;vector</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-54"><strong>&#64;offset</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-55"><strong>&#64;depends_on</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
</div></blockquote>
<p id="index-56"><strong>fast_pixel_direction</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>Values along the direction of <a class="reference internal" href="../../datarules.html#design-arraystorageorder"><span class="std std-ref">fastest varying</span></a>
pixel direction.  The direction itself is given through the vector
attribute.</p>
<p id="index-57"><strong>&#64;transformation_type</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Obligatory value:  <code class="docutils literal notranslate"><span class="pre">translation</span></code></p>
</div></blockquote>
<p id="index-58"><strong>&#64;vector</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-59"><strong>&#64;offset</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-60"><strong>&#64;depends_on</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
</div></blockquote>
<p id="index-61"><strong>slow_pixel_direction</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>Values along the direction of <a class="reference internal" href="../../datarules.html#design-arraystorageorder"><span class="std std-ref">slowest varying</span></a>
pixel direction. The direction itself is given through the vector
attribute.</p>
<p id="index-62"><strong>&#64;transformation_type</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Obligatory value:  <code class="docutils literal notranslate"><span class="pre">translation</span></code></p>
</div></blockquote>
<p id="index-63"><strong>&#64;vector</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-64"><strong>&#64;offset</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-number"><span class="std std-ref">NX_NUMBER</span></a></p>
<p id="index-65"><strong>&#64;depends_on</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><strong>BEAM</strong>: (required) <a class="reference internal" href="../base_classes/NXbeam.html#nxbeam"><span class="std std-ref">NXbeam</span></a></p>
<blockquote>
<div><p id="index-66"><strong>incident_wavelength</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-wavelength"><span class="std std-ref">NX_WAVELENGTH</span></a>}</p>
<blockquote>
<div><p>In the case of a monchromatic beam this is the scalar
wavelength.</p>
<p>Several other use cases are permitted, depending on the
presence or absence of other incident_wavelength_X
fields.</p>
<p>In the case of a polychromatic beam this is an array of
length <strong>m</strong> of wavelengths, with the relative weights
in incident_wavelength_weight.</p>
<p>In the case of a monochromatic beam that varies shot-
to-shot, this is an array of wavelengths, one for each
recorded shot. Here, incident_wavelength_weight and
incident_wavelength_spread are not set.</p>
<p>In the case of a polychromatic beam that varies shot-to-
shot, this is an array of length <strong>m</strong> with the relative
weights in incident_wavelength_weight as a 2D array.</p>
<p>In the case of a polychromatic beam that varies shot-to-
shot and where the channels also vary, this is a 2D array
of dimensions <strong>np</strong> by <strong>m</strong> (slow to fast) with the
relative weights in incident_wavelength_weight as a 2D
array.</p>
<p>Note, <a class="reference internal" href="../../datarules.html#design-variants"><span class="std std-ref">variants</span></a> are a good way
to represent several of these use cases in a single dataset,
e.g. if a calibrated, single-value wavelength value is
available along with the original spectrum from which it
was calibrated.</p>
</div></blockquote>
<p id="index-67"><strong>incident_wavelength_weight</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a></p>
<blockquote>
<div><p>In the case of a polychromatic beam this is an array of
length <strong>m</strong> of the relative weights of the corresponding
wavelengths in incident_wavelength.</p>
<p>In the case of a polychromatic beam that varies shot-to-
shot, this is a 2D array of dimensions <strong>np</strong> by <strong>m</strong>
(slow to fast) of the relative weights of the
corresponding wavelengths in incident_wavelength.</p>
</div></blockquote>
<p id="index-68"><strong>incident_wavelength_spread</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-wavelength"><span class="std std-ref">NX_WAVELENGTH</span></a>}</p>
<blockquote>
<div><p>The wavelength spread FWHM for the corresponding
wavelength(s) in incident_wavelength.</p>
<p>In the case of shot-to-shot variation in the wavelength
spread, this is a 2D array of dimension <strong>np</strong> by
<strong>m</strong> (slow to fast) of the spreads of the
corresponding wavelengths in incident_wavelength.</p>
</div></blockquote>
<p id="index-69"><strong>flux</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-flux"><span class="std std-ref">NX_FLUX</span></a>}</p>
<blockquote>
<div><p>Flux density incident on beam plane area in photons
per second per unit area.</p>
<p>In the case of a beam that varies in flux shot-to-shot,
this is an array of values, one for each recorded shot.</p>
</div></blockquote>
<p id="index-70"><strong>total_flux</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-frequency"><span class="std std-ref">NX_FREQUENCY</span></a>}</p>
<blockquote>
<div><p>Flux incident on beam plane in photons per second.</p>
<p>In the case of a beam that varies in total flux shot-to-shot,
this is an array of values, one for each recorded shot.</p>
</div></blockquote>
<p id="index-71"><strong>incident_beam_size[2]</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-float"><span class="std std-ref">NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-length"><span class="std std-ref">NX_LENGTH</span></a>}</p>
<blockquote>
<div><p>Two-element array of FWHM (if Gaussian or Airy function) or
diameters (if top hat) or widths (if rectangular) of the beam
in the order x, y</p>
</div></blockquote>
<p id="index-72"><strong>profile</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>The beam profile, Gaussian, Airy function, top-hat or
rectangular.  The profile is given in the plane of
incidence of the beam on the sample.</p>
<p>Any of these values: <code class="docutils literal notranslate"><span class="pre">Gaussian</span></code> | <code class="docutils literal notranslate"><span class="pre">Airy</span></code> | <code class="docutils literal notranslate"><span class="pre">top-hat</span></code> | <code class="docutils literal notranslate"><span class="pre">rectangular</span></code></p>
</div></blockquote>
<p id="index-73"><strong>incident_polarisation_stokes[np, 4]</strong>: (recommended) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<p><strong>incident_wavelength_spectrum</strong>: (optional) <a class="reference internal" href="../base_classes/NXdata.html#nxdata"><span class="std std-ref">NXdata</span></a></p>
</div></blockquote>
</div></blockquote>
<p><strong>SOURCE</strong>: (required) <a class="reference internal" href="../base_classes/NXsource.html#nxsource"><span class="std std-ref">NXsource</span></a></p>
<blockquote>
<div><p>The neutron or x-ray storage ring/facility. Note, the NXsource base class
has many more fields available, but at present we only require the name.</p>
<p id="index-74"><strong>name</strong>: (required) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>Name of source.  Consistency with the naming in
<a class="reference external" href="http://mmcif.wwpdb.org/dictionaries/mmcif_pdbx_v50.dic/Items">http://mmcif.wwpdb.org/dictionaries/mmcif_pdbx_v50.dic/Items</a>
/_diffrn_source.pdbx_synchrotron_site.html controlled
vocabulary is highly recommended.</p>
<p id="index-75"><strong>&#64;short_name</strong>: (optional) <a class="reference internal" href="../../nxdl-types.html#nx-char"><span class="std std-ref">NX_CHAR</span></a></p>
<blockquote>
<div><p>short name for source, perhaps the acronym</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt><strong>NXDL Source</strong>:</dt><dd><p><a class="reference external" href="https://github.com/nexusformat/definitions/blob/master/applications/NXmx.nxdl.xml">https://github.com/nexusformat/definitions/blob/master/applications/NXmx.nxdl.xml</a></p>
</dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="NXrefscan.html" title="3.3.2.11. NXrefscan"
             >next</a> |</li>
        <li class="right" >
          <a href="NXmonopd.html" title="3.3.2.9. NXmonopd"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">nexus v2020.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" ><span class="section-number">3. </span>NeXus: Reference Documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.3. </span>NeXus Class Definitions</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" ><span class="section-number">3.3.2. </span>Application Definitions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; <a href="../../copyright.html">Copyright</a> 1996-2020, NIAC, https://www.nexusformat.org.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>