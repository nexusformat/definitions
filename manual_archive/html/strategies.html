


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.4. Strategies for storing information in NeXus data files &mdash; NeXus: Manual 3.2 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/blockquote.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="top" title="NeXus: Manual 3.2 documentation" href="index.html" />
    <link rel="up" title="1. NeXus: User Manual" href="user_manual.html" />
    <link rel="next" title="1.5. Verification and validation of files" href="validation.html" />
    <link rel="prev" title="1.3. Constructing NeXus Files and Application Definitions" href="applying-nexus.html" /> 
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="validation.html" title="1.5. Verification and validation of files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="applying-nexus.html" title="1.3. Constructing NeXus Files and Application Definitions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">NeXus: Manual 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="user_manual.html" accesskey="U">1. NeXus: User Manual</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/nexuslogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1.4. Strategies for storing information in NeXus data files</a><ul>
<li><a class="reference internal" href="#strategies-the-simplest-case-s">1.4.1. Strategies: The simplest case(s)</a><ul>
<li><a class="reference internal" href="#step-scan-with-two-or-more-data-columns">1.4.1.1. Step scan with two or more data columns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#strategies-the-wavelength">1.4.2. Strategies: The wavelength</a></li>
<li><a class="reference internal" href="#strategies-the-next-case">1.4.3. Strategies: The next case</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="applying-nexus.html"
                        title="previous chapter">1.3. Constructing NeXus Files and Application Definitions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="validation.html"
                        title="next chapter">1.5. Verification and validation of files</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/strategies.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="http://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="download.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="strategies-for-storing-information-in-nexus-data-files">
<span id="strategies"></span><h1>1.4. Strategies for storing information in NeXus data files<a class="headerlink" href="#strategies-for-storing-information-in-nexus-data-files" title="Permalink to this headline">¶</a></h1>
<p>NeXus may appear daunting, at first, to use.  The number of base classes
is quite large as well as is the number of application definitions.  This chapter
describes some of the strategies that have been recommended for
<span class="target" id="index-0"></span>how to store information in NeXus data files.</p>
<p>When we use the term <em>storing</em>, some might be helped if they consider
this as descriptions for how to <em>classify</em> their data.</p>
<p>It is intended for this chapter to grow, with the addition of different use cases
as they are presented for suggestions.</p>
<div class="section" id="strategies-the-simplest-case-s">
<span id="strategies-simplest"></span><h2>1.4.1. Strategies: The simplest case(s)<a class="headerlink" href="#strategies-the-simplest-case-s" title="Permalink to this headline">¶</a></h2>
<p>Perhaps the <span class="target" id="index-1"></span>simplest case
might be either a step scan with two or more
columns of data.  Another simple case might be a single image acquired
by an area detector.  In either of these hypothetical
cases, the situation is so simple
that there is little addition information available to be described
(for whatever reason).</p>
<div class="section" id="step-scan-with-two-or-more-data-columns">
<h3>1.4.1.1. Step scan with two or more data columns<a class="headerlink" href="#step-scan-with-two-or-more-data-columns" title="Permalink to this headline">¶</a></h3>
<p>Consider the case where we wish to store the data from a step scan.
This case may involve two or more <em>related</em>
1-D arrays of data to be saved, each
having the same length. For our hypothetical case, we&#8217;lll
have these positioners as arrays and assume that a default plot of
<em>photodiode</em> vs. <em>ar</em>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">positioner arrays</th>
<th class="head">detector arrays</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ar</span></code>, <code class="docutils literal"><span class="pre">ay</span></code>, <code class="docutils literal"><span class="pre">dy</span></code></td>
<td><code class="docutils literal"><span class="pre">I0</span></code>, <code class="docutils literal"><span class="pre">I00</span></code>, <code class="docutils literal"><span class="pre">time</span></code>, <code class="docutils literal"><span class="pre">Epoch</span></code>, <code class="docutils literal"><span class="pre">photodiode</span></code></td>
</tr>
</tbody>
</table>
<div class="compound">
<p class="compound-first rubric">Data file structure for
<em>Step scan with two or more data columns</em></p>
<div class="compound-last highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre>file.nxs: NeXus HDF5 data file
   @default = entry
   entry: NXentry
      @NX_class = NXentry
      @default = data
      data: NXdata
         @NX_class = NXdata
         @signal = photodiode
         @axes = ar
         ar: NX_FLOAT[]
         ay: NX_FLOAT[]
         dy: NX_FLOAT[]
         I0: NX_FLOAT[]
         I00: NX_FLOAT[]
         time: NX_FLOAT[]
         Epoch: NX_FLOAT[]
         photodiode: NX_FLOAT[]
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
<div class="section" id="strategies-the-wavelength">
<span id="strategies-wavelength"></span><h2>1.4.2. Strategies: The wavelength<a class="headerlink" href="#strategies-the-wavelength" title="Permalink to this headline">¶</a></h2>
<p><em>Where should the wavelength of my experiment be written?</em>
This is one of the <a class="reference internal" href="faq.html#faq"><span>Frequently Asked Questions</span></a>.
The canonical location to store wavelength has been:</p>
<div class="highlight-python"><div class="highlight"><pre>/NXentry/NXinstrument/NXcrystal/wavelength
</pre></div>
</div>
<div class="compound">
<p class="compound-first rubric">Partial data file structure for
<em>canonical location to store wavelength</em></p>
<div class="compound-last highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre>entry: NXentry
   @NX_class = NXentry
   instrument: NXinstrument
      @NX_class = NXinstrument
      crystal: NXcrystal
         @NX_class = NXcrystal
         wavelength: NX_FLOAT
</pre></div>
</td></tr></table></div>
</div>
<p>More recently, this location makes more sense to many:</p>
<div class="highlight-python"><div class="highlight"><pre>/NXentry/NXinstrument/NXmonochromator/wavelength
</pre></div>
</div>
<div class="compound">
<p class="compound-first rubric">Partial data file structure for
<em>location which makes more sense to many</em> to store wavelength</p>
<div class="compound-last highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre>entry: NXentry
   @NX_class = NXentry
   instrument: NXinstrument
      @NX_class = NXinstrument
      monochromator: NXmonochromator
         @NX_class = NXmonochromator
         wavelength: NX_FLOAT
</pre></div>
</td></tr></table></div>
</div>
<p><a class="reference internal" href="classes/base_classes/NXcrystal.html#nxcrystal"><span>NXcrystal</span></a> describes a crystal monochromator or analyzer.
Recently, scientists with monochromatic radiation not defined by a crystal,
such as from an electron-beam undulator or a neutron helical velocity
selector, were not satisfied with creating a fictitious instance of a
crystal just to preserve the wavelength from their instrument.
Thus, the addition of the <a class="reference internal" href="classes/base_classes/NXmonochromator.html#nxmonochromator"><span>NXmonochromator</span></a> base class to NeXus,
which also allows &#8220;energy&#8221; to be specified if one is so inclined.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See the <a class="reference internal" href="preface.html#preface-class-path-specification"><span>Class path specification</span></a> section
for a short discussion of the difference between the HDF5 path
and the NeXus symbolic class path.</p>
</div>
</div>
<div class="section" id="strategies-the-next-case">
<h2>1.4.3. Strategies: The next case<a class="headerlink" href="#strategies-the-next-case" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div></div></blockquote>
<p>The <a class="reference internal" href="niac.html#niac"><span>NIAC: The NeXus International Advisory Committee</span></a> welcomes suggestions for additional sections in this chapter.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="validation.html" title="1.5. Verification and validation of files"
             >next</a> |</li>
        <li class="right" >
          <a href="applying-nexus.html" title="1.3. Constructing NeXus Files and Application Definitions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">NeXus: Manual 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="user_manual.html" >1. NeXus: User Manual</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; <a href="copyright.html">Copyright</a> 1996-2016, http://nexusformat.org.
      Last updated on 2016-11-22 16:55:48 CET.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>