


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3.3.1.12. NXdata &mdash; NeXus: Manual 3.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="NeXus: Manual 3.2 documentation" href="../../index.html" />
    <link rel="up" title="3.3.1. Base Class Definitions" href="index.html" />
    <link rel="next" title="3.3.1.13. NXdetector" href="NXdetector.html" />
    <link rel="prev" title="3.3.1.11. NXcrystal" href="NXcrystal.html" /> 
    <link rel="stylesheet" href="../../_static/blockquote.css" type="text/css" />

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="NXdetector.html" title="3.3.1.13. NXdetector"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="NXcrystal.html" title="3.3.1.11. NXcrystal"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">NeXus: Manual 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" >3. NeXus: Reference Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >3.3. NeXus Class Definitions</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U">3.3.1. Base Class Definitions</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/nexuslogo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="NXcrystal.html"
                        title="previous chapter">3.3.1.11. NXcrystal</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="NXdetector.html"
                        title="next chapter">3.3.1.13. NXdetector</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/classes/base_classes/NXdata.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<div id="google_search" style="display: none">
	<hr />
	<h3>Google search</h3>
	<form method="get" action="http://www.google.com/search">
		<table border="0" align="center" cellpadding="0">
			<tr>
				<td>
					<input type="text"   name="q" value="" />
				</td>
			</tr>
			<tr>
				<td align="center" style="font-size:75%">
					<input type="radio"  name="sitesearch" value="" />global
					<input type="radio"  name="sitesearch"
						value="download.nexusformat.org" 
						checked />NeXus manual
					<input type="submit" value="Go" />
					<br />
				</td>
			</tr>
		</table>
	</form>                                
</div>
<script type="text/javascript">$('#google_search').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="nxdata">
<span id="index-0"></span><span id="id1"></span><h1>3.3.1.12. NXdata<a class="headerlink" href="#nxdata" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Status</strong>:</p>
<blockquote>
<div>base class, extends <a class="reference internal" href="NXobject.html#nxobject"><span>NXobject</span></a>, version 1.0</div></blockquote>
<p><strong>Description</strong>:</p>
<blockquote>
<div><p>(<strong>required</strong>) <a class="reference internal" href="#nxdata"><span>NXdata</span></a> describes the plottable data and related dimension scales.</p>
<p id="index-1">It is mandatory  that there is at least one <a class="reference internal" href="#nxdata"><span>NXdata</span></a> group
in each <a class="reference internal" href="NXentry.html#nxentry"><span>NXentry</span></a> group.
Note that the <code class="docutils literal"><span class="pre">variable</span></code> and <code class="docutils literal"><span class="pre">data</span></code>
can be defined with different names.
The <code class="docutils literal"><span class="pre">signal</span></code> and <code class="docutils literal"><span class="pre">axes</span></code> attributes of the
<code class="docutils literal"><span class="pre">data</span></code> group define which items
are plottable data and which are <em>dimension scales</em>, respectively.</p>
<p><a class="reference internal" href="#nxdata"><span>NXdata</span></a> is used to implement one of the basic motivations in NeXus,
to provide a default plot for the data of this <a class="reference internal" href="NXentry.html#nxentry"><span>NXentry</span></a>.  The actual data
might be stored in another group and (hard) linked to the <a class="reference internal" href="#nxdata"><span>NXdata</span></a> group.</p>
<ul>
<li><p class="first">Each <a class="reference internal" href="#nxdata"><span>NXdata</span></a> group will define only one data set
containing plottable data, dimension scales, and
possibly associated standard deviations.
Other data sets may be present in the group.</p>
</li>
<li><p class="first">The plottable data may be of arbitrary rank up to a maximum
of <code class="docutils literal"><span class="pre">NX_MAXRANK=32</span></code>.</p>
</li>
<li><p class="first">The plottable data will be named as the value of
the group <code class="docutils literal"><span class="pre">signal</span></code> attribute, such as:</p>
<div class="highlight-python"><div class="highlight"><pre>data:NXdata
  @signal = &quot;counts&quot;
  @axes = &quot;mr&quot;
  @mr_indices = 0
  counts: float[100]  --&gt; the default dependent data
  mr: float[100]  --&gt; the default independent data
</pre></div>
</div>
<p>The field named in the <code class="docutils literal"><span class="pre">signal</span></code> attribute <strong>must</strong> exist, either
directly as a dataset or defined through a link.</p>
</li>
<li><p class="first">The group <code class="docutils literal"><span class="pre">axes</span></code> attribute will name the
<em>dimension scale</em> associated with the plottable data.</p>
</li>
</ul>
<p>If available, the standard deviations of the data are to be
stored in a data set of the same rank and dimensions, with the name <code class="docutils literal"><span class="pre">errors</span></code>.</p>
<ul class="simple">
<li>For each data dimension, there should be a one-dimensional array
of the same length.</li>
<li>These one-dimensional arrays are the <em>dimension scales</em> of the
data,  <em>i.e</em>. the values of the independent variables at which the data
is measured, such as scattering angle or energy transfer.</li>
</ul>
<span class="target" id="index-2"></span><p id="index-3">The preferred method to associate each data dimension with
its respective dimension scale is to specify the field name
of each dimension scale in the group <code class="docutils literal"><span class="pre">axes</span></code> attribute as a string list.
Here is an example for a 2-D data set <em>data</em> plotted
against <em>time</em>, and <em>pressure</em>.  (An additional <em>temperature</em> data set
is provided and could be selected as an alternate for the <em>pressure</em> axis.):</p>
<div class="highlight-python"><div class="highlight"><pre>data_2d:NXdata
  @signal=&quot;data&quot;
  @axes=&quot;time&quot;,&quot;pressure&quot;
  @pressure_indices=1
  @temperature_indices=1
  @time_indices=0
  data: float[1000,20]
  pressure: float[20]
  temperature: float[20]
  time: float[1000]
</pre></div>
</div>
<p class="rubric">Old methods to identify the plottable data</p>
<p>There are two older methods of associating
each data dimension to its respective dimension scale.
Both are now out of date and
should not be used when writing new data files.
However, client software should expect to see data files
written with any of these methods.</p>
<blockquote>
<div><ul class="simple">
<li>One method uses the <code class="docutils literal"><span class="pre">axes</span></code>
attribute to specify the names of each <em>dimension scale</em>.</li>
<li>The oldest method uses the <code class="docutils literal"><span class="pre">axis</span></code> attribute on each
<em>dimension scale</em> to identify
with an integer the axis whose value is the number of the dimension.</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>Symbols</strong>:</p>
<blockquote>
<div><p>These symbols will be used below to coordinate datasets with the same shape.</p>
<p><strong>dataRank</strong>: rank of the <code class="docutils literal"><span class="pre">data</span></code> field</p>
<p><strong>n</strong>: length of the <code class="docutils literal"><span class="pre">variable</span></code> field</p>
<p><strong>nx</strong>: length of the <code class="docutils literal"><span class="pre">x</span></code> field</p>
<p><strong>ny</strong>: length of the <code class="docutils literal"><span class="pre">y</span></code> field</p>
<p><strong>nz</strong>: length of the <code class="docutils literal"><span class="pre">z</span></code> field</p>
</div></blockquote>
<dl class="docutils">
<dt><strong>Groups cited</strong>:</dt>
<dd>none</dd>
</dl>
<p><strong>Structure</strong>:</p>
<blockquote>
<div><p id="index-4"><strong>&#64;signal</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div><p id="index-5">Declares which dataset is the default.
The value is the name of the dataset to be plotted.
A field of this name <em>must</em> exist (either as dataset
or as a link to a dataset).</p>
<p>It is recommended (as of NIAC2014) to use this attribute
rather than adding a signal attribute to the dataset.
See <a class="reference external" href="http://wiki.nexusformat.org/2014_How_to_find_default_data">http://wiki.nexusformat.org/2014_How_to_find_default_data</a>
for a summary of the discussion.</p>
</div></blockquote>
<p id="index-6"><strong>&#64;axes</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div><p id="index-7">String array that defines the independent data fields used in
the default plot for all of the dimensions of the <em>signal</em> field
(the <em>signal</em> field is the field in this group that is named by
the <code class="docutils literal"><span class="pre">signal</span></code> attribute of this group).
One entry is provided for every dimension in the <em>signal</em> field.</p>
<p>The field(s) named as values (known as &#8220;axes&#8221;) of this attribute
<em>must</em> exist. An axis slice is specified using a field named
<code class="docutils literal"><span class="pre">AXISNAME_indices</span></code> as described below (where the text shown here
as <code class="docutils literal"><span class="pre">AXISNAME</span></code> is to be replaced by the actual field name).</p>
<p>When no default axis is available for a particular dimension
of the plottable data, use a &#8221;.&#8221; in that position.
Such as:</p>
<div class="highlight-python"><div class="highlight"><pre>@I_axes=&quot;time&quot;, &quot;.&quot;, &quot;.&quot;
</pre></div>
</div>
<p>Since there are three items in the list, the the <em>signal</em> field
must must be a three-dimensional array (rank=3).  The first dimension
is described by the values of a one-dimensional array named <code class="docutils literal"><span class="pre">time</span></code>
while the other two dimensions have no fields to be used as dimension scales.</p>
<p>See examples provided on the NeXus wiki:
<a class="reference external" href="http://wiki.nexusformat.org/2014_axes_and_uncertainties">http://wiki.nexusformat.org/2014_axes_and_uncertainties</a></p>
<p>If there are no axes at all (such as with a stack of images),
the axes attribute can be omitted.</p>
</div></blockquote>
<p id="index-8"><strong>&#64;AXISNAME_indices</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div><p>Each <code class="docutils literal"><span class="pre">AXISNAME_indices</span></code> attribute indicates the dependency
relationship of the <code class="docutils literal"><span class="pre">AXISNAME</span></code> field (where <code class="docutils literal"><span class="pre">AXISNAME</span></code>
is the name of a field that exists in this <code class="docutils literal"><span class="pre">NXdata</span></code> group)
with one or more dimensions of the plottable data.</p>
<p>Integer array that defines the indices of the <em>signal</em> field
(that field will be a multidimensional array)
which need to be used in the <em>AXISNAME</em> dataset in
order to reference the corresponding axis value.</p>
<p>The first index of an array is <code class="docutils literal"><span class="pre">0</span></code> (zero).</p>
<p>Here, <em>AXISNAME</em> is to be replaced by the name of each
field described in the <code class="docutils literal"><span class="pre">axes</span></code> attribute.
An example with 2-D data, <span class="math">\(d(t,P)\)</span>, will illustrate:</p>
<div class="highlight-python"><div class="highlight"><pre>data_2d:NXdata
  @signal=&quot;data&quot;
  @axes=&quot;time&quot;,&quot;pressure&quot;
  @time_indices=0
  @pressure_indices=1
  data: float[1000,20]
  time: float[1000]
  pressure: float[20]
</pre></div>
</div>
<p>This attribute is to be provided in all situations.
However, if the indices attributes are missing
(such as for data files written before this specification),
file readers are encouraged to make their best efforts
to plot the data.
Thus the implementation of the
<code class="docutils literal"><span class="pre">AXISNAME_indices</span></code> attribute is based on the model of
&#8220;strict writer, liberal reader&#8221;.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Attributes potentially containing multiple values
(axes and _indices) are to be written as string or integer arrays,
to avoid string parsing in reading applications.</p>
</div>
</div></blockquote>
<p id="index-9"><strong>variable[n]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span>NX_NUMBER</span></a></p>
<blockquote>
<div><p>Dimension scale defining an axis of the data.
Client is responsible for defining the dimensions of the data.
The name of this field may be changed to fit the circumstances.
Standard NeXus client tools will use the attributes to determine
how to use this field.</p>
<p id="index-10"><strong>&#64;long_name</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div>Axis label</div></blockquote>
<p id="index-11"><strong>&#64;distribution</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-boolean"><span>NX_BOOLEAN</span></a></p>
<blockquote>
<div><code class="docutils literal"><span class="pre">0|false</span></code>: single value,
<code class="docutils literal"><span class="pre">1|true</span></code>: multiple values</div></blockquote>
<p id="index-12"><strong>&#64;first_good</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-int"><span>NX_INT</span></a></p>
<blockquote>
<div>Index of first good value</div></blockquote>
<p id="index-13"><strong>&#64;last_good</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-int"><span>NX_INT</span></a></p>
<blockquote>
<div>Index of last good value</div></blockquote>
<p id="index-14"><strong>&#64;axis</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-posint"><span>NX_POSINT</span></a></p>
<blockquote>
<div><p>Index (positive integer) identifying this specific set of numbers.</p>
<p>N.B. The <code class="docutils literal"><span class="pre">axis</span></code> attribute is the old way of designating a link.
Do not use the <code class="docutils literal"><span class="pre">axes</span></code> attribute with the <code class="docutils literal"><span class="pre">axis</span></code> attribute.
The <code class="docutils literal"><span class="pre">axes</span></code> <em>group</em> attribute is now preferred.</p>
</div></blockquote>
</div></blockquote>
<p id="index-15"><strong>variable_errors[n]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span>NX_NUMBER</span></a></p>
<blockquote>
<div>Errors (uncertainties) associated with axis <code class="docutils literal"><span class="pre">variable</span></code>.
Client is responsible for defining the dimensions of the data.
The name of this field may be changed to fit the circumstances
but is matched with the <em>variable</em>
field with <code class="docutils literal"><span class="pre">_errors</span></code> appended.</div></blockquote>
<p id="index-16"><strong>data[n]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span>NX_NUMBER</span></a></p>
<blockquote>
<div><p id="index-17">This field contains the data values to be used as the
NeXus <em>plottable data</em>.
Client is responsible for defining the dimensions of the data.
The name of this field may be changed to fit the circumstances.
Standard NeXus client tools will use the attributes to determine
how to use this field.</p>
<p id="index-18"><strong>&#64;signal</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-posint"><span>NX_POSINT</span></a></p>
<blockquote>
<div><p id="index-19">Plottable (independent) axis, indicate index number.
Only one field in a <a class="reference internal" href="#nxdata"><span>NXdata</span></a> group may have the
<code class="docutils literal"><span class="pre">signal=1</span></code> attribute.
Do not use the <code class="docutils literal"><span class="pre">signal</span></code> attribute with the <code class="docutils literal"><span class="pre">axis</span></code> attribute.</p>
</div></blockquote>
<p id="index-20"><strong>&#64;axes</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div>Defines the names of the dimension scales
(independent axes) for this data set
as a colon-delimited array.
NOTE: The <code class="docutils literal"><span class="pre">axes</span></code> attribute is the preferred
method of designating a link.
Do not use the <code class="docutils literal"><span class="pre">axes</span></code> attribute with the <code class="docutils literal"><span class="pre">axis</span></code> attribute.</div></blockquote>
<p id="index-21"><strong>&#64;uncertainties</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div><p>Specify the name (or names) of the uncertainties (errors)
of the dependent axes as plottable data.
NOTE: The <code class="docutils literal"><span class="pre">uncertainties</span></code> attribute uses the same syntax
as the <code class="docutils literal"><span class="pre">axes</span></code> attribute, a string or an array of strings
for multiple uncertainties.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre>@uncertainties=&quot;data_errors&quot;

@uncertainties=&quot;Idev&quot;

@uncertainties=&quot;dQw&quot;, &quot;dQl&quot;
</pre></div>
</div>
</div></blockquote>
<p id="index-22"><strong>&#64;long_name</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-char"><span>NX_CHAR</span></a></p>
<blockquote>
<div>data label</div></blockquote>
</div></blockquote>
<p id="index-23"><strong>errors[n]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-number"><span>NX_NUMBER</span></a></p>
<blockquote>
<div>Standard deviations of data values -
the data array is identified by the group attribute <code class="docutils literal"><span class="pre">signal</span></code>.
The <code class="docutils literal"><span class="pre">errors</span></code> array must have the same dimensions as <code class="docutils literal"><span class="pre">data</span></code>.
Client is responsible for defining the dimensions of the data.</div></blockquote>
<p id="index-24"><strong>scaling_factor</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-float"><span>NX_FLOAT</span></a></p>
<blockquote>
<div>The elements in data are usually float values really. For
efficiency reasons these are usually stored as integers
after scaling with a scale factor. This value is the scale
factor. It is required to get the actual physical value,
when necessary.</div></blockquote>
<p id="index-25"><strong>offset</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-float"><span>NX_FLOAT</span></a></p>
<blockquote>
<div>An optional offset to apply to the values in data.</div></blockquote>
<p id="index-26"><strong>x[nx]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-float"><span>NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-any"><span>NX_ANY</span></a>}</p>
<blockquote>
<div>This is an array holding the values to use for the x-axis of
data.  The units must be appropriate for the measurement.</div></blockquote>
<p id="index-27"><strong>y[ny]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-float"><span>NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-any"><span>NX_ANY</span></a>}</p>
<blockquote>
<div>This is an array holding the values to use for the y-axis of
data.  The units must be appropriate for the measurement.</div></blockquote>
<p id="index-28"><strong>z[nz]</strong>: <a class="reference internal" href="../../nxdl-types.html#nx-float"><span>NX_FLOAT</span></a> {units=<a class="reference internal" href="../../nxdl-types.html#nx-any"><span>NX_ANY</span></a>}</p>
<blockquote>
<div>This is an array holding the values to use for the z-axis of
data.  The units must be appropriate for the measurement.</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt><strong>NXDL Source</strong>:</dt>
<dd><a class="reference external" href="https://github.com/nexusformat/definitions/blob/master/base_classes/NXdata.nxdl.xml">https://github.com/nexusformat/definitions/blob/master/base_classes/NXdata.nxdl.xml</a></dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="NXdetector.html" title="3.3.1.13. NXdetector"
             >next</a> |</li>
        <li class="right" >
          <a href="NXcrystal.html" title="3.3.1.11. NXcrystal"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">NeXus: Manual 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../ref_doc.html" >3. NeXus: Reference Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" >3.3. NeXus Class Definitions</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="index.html" >3.3.1. Base Class Definitions</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; <a href="../../copyright.html">Copyright</a> 1996-2016, http://nexusformat.org.
      Last updated on 2016-11-14 11:50:37 CET.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>