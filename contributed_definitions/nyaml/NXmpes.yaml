category: application
doc: |
  This is the most general application definition for
  photoemission experiments.
  
  Groups and fields are named according to the
  `ISO 18115-1:2023`_ specification as well as the `IUPAC Recommendations 2020`_.
  
  .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
  .. _IUPAC Recommendations 2020: https://doi.org/10.1515/pac-2019-0404
symbols:
  doc: |
    The symbols used in the schema to specify e.g. dimensions of arrays
  n_transmission_function: |
    Number of data points in the transmission function.
type: group
NXmpes(NXobject):
  (NXentry):
    definition:
      \@version:
      enumeration: [NXmpes]
    title:
    start_time(NX_DATE_TIME):
      doc: |
        Datetime of the start of the measurement.
        Should be a ISO8601 date/time stamp. It is recommended to add an explicit time zone,
        otherwise the local time zone is assumed per ISO8601.
    end_time(NX_DATE_TIME):
      exists: recommended
      doc: |
        Datetime of the end of the measurement.
        Should be a ISO8601 date/time stamp. It is recommended to add an explicit time zone,
        otherwise the local time zone is assumed per ISO8601.
    method:
      exists: recommended
      doc: |
        Name of the experimental method.
        
        If applicable, this name should match the terms given by `Clause 11`_ of
        the `ISO 18115-1:2023`_ specification.
        
        Examples include:
            * X-ray photoelectron spectroscopy (XPS)
            * angle-resolved X-ray photoelectron spectroscopy (ARXPS)
            * ultraviolet photoelectron spectroscopy (UPS)
            * angle-resolved photoelectron spectroscopy (ARPES)
            * hard X-ray photoemission spectroscopy (HAXPES)
            * near ambient pressure X-ray photoelectron spectroscopy (NAPXPS)
            * photoelectron emission microscopy (PEEM)
            * electron spectroscopy for chemical analysis (ESCA)
            * time-resolved angle-resolved X-ray photoelectron spectroscopy (trARPES)
            * spin-resolved angle-resolved X-ray photoelectron spectroscopy (spin-ARPES)
            * momentum microscopy
        
        .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
        .. _Clause 11: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:sec:11
    geometries(NXcoordinate_system_set):
      exists: optional
      doc: |
        Description of one or more coordinate systems that are specific to the setup
        and the measurement geometry.
    (NXuser):
      exists: recommended
      doc: |
        Contact information of at least the user of the instrument or the investigator
        who performed this experiment. Adding multiple users if relevant is recommended.
      name:
        doc: |
          Name of the user.
      affiliation:
        doc: |
          Name of the affiliation of the user at the time when the experiment was
          performed.
    (NXinstrument):
      doc:
      - |
        Description of the photoemission spectrometer and its individual parts.
      - |
        xref:
          spec: ISO 18115-1:2023
          term: 12.58
          url: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:12.58
      energy_resolution(NXresolution):
        exists: optional
        doc: |
          Overall energy resolution of the photoemission instrument.
        physical_quantity:
          enumeration: [energy]
        type:
          exists: recommended
        resolution(NX_FLOAT):
          unit: NX_ENERGY
          doc:
          - |
            Minimum distinguishable energy separation in the energy spectra.
          - |
            xref:
              spec: ISO 18115-1:2023
              term: 10.24
              url: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:10.24
        relative_resolution(NX_FLOAT):
          exists: optional
          doc:
          - |
            Ratio of the energy resolution of the photoemission spectrometer at a specified energy
            value to that energy value.
          - |
            xref:
              spec: ISO 18115-1:2023
              term: 10.7 ff.
              url: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:10.7
      device_information(NXfabrication):
        exists: recommended
        vendor:
          exists: recommended
        model:
          exists: recommended
        identifier:
          exists: recommended
      sourceTYPE(NXsource):
        exists: recommended
        doc: |
          A source used to generate a beam. Properties refer strictly to parameters of the
          source, not of the output beam. For example, the energy of the source is not the
          optical power of the beam, but the energy of the electron beam in a synchrotron
          or similar.
          
          Note that the uppercase notation in sourceTYPE means that multiple sources can
          be provided. The uppercase part can be substituted with any string that consists
          of alphanumeric characters, including both uppercase and lowercase letters from A to Z
          and numerical digits from 0 to 9. For example, in pump-probe experiments, it is possible
          to have both a `source_probe` and a `source_pump`.
        type:
          enumeration: [Synchrotron X-ray Source, Rotating Anode X-ray, Fixed Tube X-ray, UV Laser, Free-Electron Laser, Optical Laser, UV Plasma Source, Metal Jet X-ray, HHG laser, UV lamp, Monochromatized electron source, other]
        type_other:
          exists: optional
          doc: |
            Specification of type, may also go to name.
        name:
          exists: recommended
        probe:
          exists: optional
        device_information(NXfabrication):
          exists: recommended
          vendor:
            exists: recommended
          model:
            exists: recommended
          identifier:
            exists: recommended
        associated_beam(NXbeam):
          doc: |
            The beam emitted by this source.
            Should be named with the same appendix, e.g.,
            for `source_probe` it should refer to `beam_probe`.
            Refers to the same concept as /NXentry/NXinstrument/beamTYPE
            and may be linked.
      beamTYPE(NXbeam):
        doc: |
          Properties of the photon beam at a given location.
          Should be named with the same appendix as sourceTYPE, e.g.,
          for `source_probe` it should refer to `beam_probe`.
        distance(NX_NUMBER):
          unit: NX_LENGTH
          exists: recommended
          doc: |
            Distance between the point where the current NXbeam instance is evaluating
            the beam properties and the point where the beam interacts with the sample.
            For photoemission, the latter is the point where the the centre of the beam
            touches the sample surface.
        incident_energy(NX_FLOAT):
          unit: NX_ENERGY
        incident_energy_spread(NX_NUMBER):
          exists: recommended
          unit: NX_ENERGY
        incident_polarization(NX_NUMBER):
          exists: recommended
          unit: NX_ANY
        extent(NX_FLOAT):
          exists: recommended
        associated_source(NXsource):
          exists: recommended
          doc: |
            The source that emitted this beam.
            Should be named with the same appendix, e.g.,
            for `beam_probe` it should refer to `source_probe`.
            Refers to the same concept as /NXentry/NXinstrument/sourceTYPE
            and may be linked.
            Should be specified if an associated source exists.
      (NXelectronanalyser):
        device_information(NXfabrication):
          exists: recommended
          vendor:
            exists: recommended
          model:
            exists: recommended
          identifier:
            exists: recommended
        description:
          exists: recommended
        work_function(NX_FLOAT):
          unit: NX_ENERGY
          exists: recommended
        energy_resolution(NXresolution):
          exists: optional
          type:
            exists: recommended
          physical_quantity:
            enumeration: [energy]
          resolution(NX_FLOAT):
        fast_axes:
          exists: recommended
        slow_axes:
          exists: recommended
        transmission_function(NXdata):
          exists: optional
        (NXcollectioncolumn):
          scheme:
            doc: |
              Scheme of the electron collection column.
            enumeration: [angular dispersive, spatial dispersive, momentum dispersive, non-dispersive]
          lens_mode:
            exists: recommended
          projection:
            exists: recommended
          angular_acceptance(NX_FLOAT):
            exists: optional
          spatial_acceptance(NX_FLOAT):
            exists: optional
          field_aperture(NXaperture):
            exists: optional
            doc: |
              The size and position of the field aperture inserted in the column. To add
              additional or other apertures use the APERTURE group of NXcollectioncolumn.
          contrast_aperture(NXaperture):
            exists: optional
            doc: |
              The size and position of the contrast aperture inserted in the column. To add
              additional or other apertures use the APERTURE group of NXcollectioncolumn.
          iris(NXaperture):
            exists: optional
            doc: |
              Size, position and shape of the iris inserted in the column.
              
              The iris is an aperture in the lens with a variable diameter which can reduce the number of
              electrons entering the analyzer.
              
              To add additional or other slits use the APERTURE group of NXcollectioncolumn.
          device_information(NXfabrication):
            exists: recommended
            vendor:
              exists: recommended
            model:
              exists: recommended
            identifier:
              exists: recommended
        (NXenergydispersion):
          scheme:
            enumeration: [tof, hemispherical, double hemispherical, cylindrical mirror, display mirror, retarding grid]
          pass_energy(NX_FLOAT):
            exists: recommended
            unit: NX_ENERGY
            doc: |
              Either `pass_energy` or `drift_energy` must be supplied. `pass_energy` should be used when working
              with hemispherical analysers.
          drift_energy(NX_FLOAT):
            exists: recommended
            unit: NX_ENERGY
            doc: |
              Either `pass_energy` or `drift_energy` must be supplied. `drift_energy` should be used if a TOF is used in the
              energy dispersive part of the electron analyzer.
          energy_scan_mode:
            exists: recommended
          entrance_slit(NXaperture):
            exists: optional
            doc: |
              Size, position and shape of the entrance slit in dispersive analyzers.
              
              To add additional or other slits use the APERTURE group of NXenergydispersion.
          exit_slit(NXaperture):
            exists: optional
            doc: |
              Size, position and shape of the exit slit in dispersive analyzers.
              
              To add additional or other slits use the APERTURE group of NXenergydispersion.
          device_information(NXfabrication):
            exists: recommended
            vendor:
              exists: recommended
            model:
              exists: recommended
            identifier:
              exists: recommended
        (NXdetector):
          amplifier_type:
            exists: recommended
            doc: |
              Type of electron amplifier in the first amplification step.
            enumeration: [MCP, channeltron]
          detector_type:
            exists: recommended
            doc: |
              Description of the detector type.
            enumeration: [DLD, Phosphor+CCD, Phosphor+CMOS, ECMOS, Anode, Multi-anode]
          device_information(NXfabrication):
            exists: recommended
            vendor:
              exists: recommended
            model:
              exists: recommended
            identifier:
              exists: recommended
          raw_data(NXdata_mpes_detector):
            exists: recommended
            doc: |
              Contains the raw data collected by the detector before calibration.
              The data which is considered raw might change from experiment to experiment
              due to hardware pre-processing of the data.
              This field ideally collects the data with the lowest level of processing
              possible.
              
              The naming of fields should follow the convention defined in the
              :ref:`NXdata_mpes_detector` base class:
              
              - **pixel_x**: Detector pixel in x direction.
              - **pixel_y**: Detector pixel in y direction.
              - **energy**: (Un)calibrated energy (kinetic or binding energy). Unit category: NX_ENERGY (e.g., eV).
              - **kx**: (Un)calibrated x axis in k-space. Unit category: NX_ANY (e.g., 1/Angström).
              - **ky**: (Un)calibrated y axis in k-space. Unit category: NX_ANY (1/Angström).
              - **kz**: (Un)calibrated z axis in k-space. Unit category: NX_ANY (1/Angström).
              - **angular0**: Fast-axis angular coordinate (or second slow axis if angularly integrated).
                Unit category: NX_ANGLE
              - **angular1**: Slow-axis angular coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
                Unit category: NX_ANGLE
              - **spatial0**: Fast-axis spatial coordinate (or second slow axis if spatially integrated)
                Unit category: NX_LENGTH
              - **spatial1**: Slow-axis spatial coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
                Unit category: NX_LENGTH
              - **delay**: Calibrated delay time. Unit category: NX_TIME (s).
              - **polarization_angle**: Linear polarization angle of the incoming or
                outgoing beam.
                Unit category: NX_ANGLE (° or rad)
              - **ellipticity**: Ellipticity of the incoming or outgoing beam.
                Unit category: NX_ANGLE (° or rad)
              - **time_of_flight**: Total time of flight. Unit category: NX_TIME_OF_FLIGHT
              - **time_of_flight_adc**: Time-of-flight values, analog-to-digital converted.
              - **external_AXIS**: Describes an axis which is coming from outside the detectors scope.
            \@signal:
              enumeration: [raw]
            raw(NX_NUMBER):
              doc: |
                Raw data before calibration.
      (NXmanipulator):
        exists: optional
        doc: |
          Manipulator for positioning of the sample.
        temperature_sensor(NXsensor):
          exists: recommended
          name:
            exists: recommended
          measurement:
            enumeration: [temperature]
          type:
            exists: optional
          value(NX_FLOAT):
        sample_heater(NXactuator):
          exists: optional
          name:
            exists: recommended
          physical_quantity:
            enumeration: [temperature]
          type:
            exists: optional
          heater_power(NX_FLOAT):
          (NXpid):
            exists: recommended
            setpoint(NX_FLOAT):
              exists: recommended
        cryostat(NXactuator):
          exists: optional
          name:
            exists: recommended
          physical_quantity:
            enumeration: [temperature]
          type:
            exists: optional
          (NXpid):
            setpoint(NX_FLOAT):
              exists: recommended
        drain_current_amperemeter(NXsensor):
          exists: optional
          name:
            exists: recommended
          measurement:
            enumeration: [current]
          type:
            exists: optional
          value(NX_FLOAT):
        sample_bias_voltmeter(NXsensor):
          exists: recommended
          name:
            exists: recommended
          measurement:
            enumeration: [voltage]
          type:
            exists: optional
          value(NX_FLOAT):
        sample_bias_potentiostat(NXactuator):
          exists: recommended
          name:
            exists: recommended
          physical_quantity:
            enumeration: [voltage]
          type:
            exists: optional
          (NXpid):
            exists: recommended
            setpoint(NX_FLOAT):
              exists: recommended
        device_information(NXfabrication):
          exists: recommended
          vendor:
            exists: recommended
          model:
            exists: recommended
          identifier:
      pressure_gauge(NXsensor):
        exists: recommended
        doc: |
          Device to measure the gas pressure around the sample.
        name:
          exists: recommended
        measurement:
          enumeration: [pressure]
        type:
          exists: optional
        value(NX_FLOAT):
          unit: NX_PRESSURE
          doc: |
            In case of a single or averaged gas pressure measurement, this is the scalar gas pressure around
            the sample. It can also be an 1D array of measured pressures (without time stamps).
        value_log(NXlog):
          exists: optional
          value(NX_NUMBER):
            unit: NX_PRESSURE
            doc: |
              In the case of an experiment in which the gas pressure changes and is recorded,
              this is an array of length m of gas pressures.
      flood_gun(NXactuator):
        exists: optional
        doc: |
          Device to bring low-energy electrons to the sample for charge neutralization
        name:
          exists: recommended
        physical_quantity:
          enumeration: [current]
        type:
          exists: optional
        current(NX_FLOAT):
          exists: recommended
          unit: NX_CURRENT
          doc: |
            In case of a fixed or averaged electron current, this is the scalar current.
            It can also be an 1D array of output current (without time stamps).
        current_log(NXlog):
          exists: optional
          value(NX_NUMBER):
            unit: NX_CURRENT
            doc: |
              In the case of an experiment in which the electron current is changed and
              recorded with time stamps, this is an array of length m of current setpoints.
      history(NXhistory):
        exists: optional
        doc: |
          A set of activities that occurred to the instrument prior to/during the photoemission
          experiment, including any activities performed on the individual instrument parts.
          This group can be used to describe the preparation of the instrument prior to the
          experiment, e.g. the cleaning procedure for a spin filter crystal.
    (NXprocess_mpes):
      exists: recommended
      doc: |
        Document an event of data processing, reconstruction, or analysis for this data.
        The appropriate axis calibrations for a given experiment should be described using
        one or more of the following NXcalibrations. The individual calibrations for a given
        `AXISNAME` in `data` should be called `AXISNAME_calibration`.
      energy_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      kN_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      angularN_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      spatialN_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      delay_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      polarization_angle_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      ellipticity_calibration(NXcalibration):
        exists: optional
        calibrated_axis(NX_FLOAT):
          exists: recommended
      energy_referencing(NXcalibration):
        exists: optional
        level(NXelectron_level):
          exists: recommended
        reference_peak:
        binding_energy(NX_FLOAT):
          exists: recommended
        offset(NX_FLOAT):
          exists: recommended
        calibrated_axis(NX_FLOAT):
          exists: recommended
      transmission_correction(NXcalibration):
        exists: optional
        transmission_function(NXdata):
          exists: recommended
          \@signal:
          \@axes:
          kinetic_energy(NX_FLOAT):
            unit: NX_ENERGY
            doc: |
              Kinetic energy values
            dimensions:
              rank: 1
              dim: [[1, n_transmission_function]]
          relative_intensity(NX_FLOAT):
            unit: NX_UNITLESS
            doc: |
              Relative transmission efficiency for the given kinetic energies
            dimensions:
              rank: 1
              dim: [[1, n_transmission_function]]
    (NXsample):
      name:
      (NXsubstance):
        exists: recommended
        doc: |
          For samples containing a single pure substance. For mixtures use the
          NXsample_component_set and NXsample_component group in NXsample instead.
        molecular_formula_hill:
          exists: recommended
          doc: |
            The chemical formula of the sample (using CIF conventions).
      atom_types:
        exists: recommended
        doc: |
          List of comma-separated elements from the periodic table
          that are contained in the sample.
          If the sample substance has multiple components, all
          elements from each component must be included in `atom_types`.
      physical_form:
        exists: recommended
      situation:
        exists: recommended
        enumeration: [vacuum, inert atmosphere, oxidising atmosphere, reducing atmosphere]
      history(NXhistory):
        exists: recommended
        doc: |
          A set of activities that occurred to the sample prior to/during photoemission
          experiment.
        sample_preparation(NXphysical_process):
          exists: recommended
          doc: |
            Details about the sample preparation for the photoemission experiment (e.g. UHV cleaving,
            in-situ growth, sputtering/annealing, etc.).
          start_time(NX_DATE_TIME):
          end_time(NX_DATE_TIME):
            exists: recommended
          method:
            exists: recommended
            doc: |
              Details about the method of sample preparation before the photoemission
              experiment.
      temperature(NXenvironment):
        exists: recommended
        doc: |
          Sample temperature (either controlled or just measured).
        temperature_sensor(NXsensor):
          doc: |
            Temperature sensor measuring the sample temperature.
            This should be a link to /entry/instrument/manipulator/temperature_sensor.
        sample_heater(NXactuator):
          exists: optional
          doc: |
            Device to heat the sample.
            This should be a link to /entry/instrument/manipulator/sample_heater.
        cryostat(NXactuator):
          exists: optional
          doc: |
            Cryostat for cooling the sample.
            This should be a link to /entry/instrument/manipulator/cryostat.
      gas_pressure(NXenvironment):
        exists: recommended
        doc: |
          Gas pressure surrounding the sample.
        pressure_gauge(NXsensor):
          doc: |
            Gauge measuring the gas pressure.
            
            This should be a link to /entry/instrument/pressure_gauge.
      bias(NXenvironment):
        exists: recommended
        doc:
        - |
          Bias of the sample with respect to analyser ground.
        - |
          xref:
            spec: ISO 18115-1:2023
            term: 8.41
            url: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:8.41
        voltmeter(NXsensor):
          doc: |
            Sensor measuring the applied voltage.
            
            This should be a link to /entry/instrument/manipulator/sample_bias_voltmeter.
        potentiostat(NXactuator):
          exists: optional
          doc: |
            Actuator applying a voltage to sample and sample holder.
            
            This should be a link to /entry/instrument/manipulator/sample_bias_potentiostat.
      drain_current(NXenvironment):
        exists: optional
        doc: |
          Drain current of the sample and sample holder.
        amperemeter(NXsensor):
          doc: |
            Amperemeter measuring the drain current of the sample and sample holder.
            
            This should be a link to /entry/instrument/manipulator/drain_current_amperemeter.
      flood_gun_current(NXenvironment):
        exists: optional
        doc: |
          Current of low-energy electrons to the sample for charge neutralization.
        flood_gun(NXactuator):
          doc: |
            Flood gun creating a current of low-energy electrons.
            
            This should be a link to /entry/instrument/flood_gun.
    data(NXdata_mpes):
      doc: |
        The default NXdata field containing a view on the measured data.
        This NXdata field contains a collection of the main relevant fields (axes).
        If you want to provide additional views on your data, you can additionally use
        the generic NXdata group of NXentry.
        
        In NXmpes, it is required to provide an energy axis.
                
        The naming of fields should follow the convention defined in the
        :ref:`NXdata_mpes` base class:
        
        - **energy**: Calibrated energy (kinetic or binding energy). Unit category: NX_ENERGY (e.g., eV).
        - **kx**: Calibrated x axis in k-space. Unit category: NX_ANY (e.g., 1/Angström).
        - **ky**: Calibrated y axis in k-space. Unit category: NX_ANY (1/Angström).
        - **kz**: Calibrated z axis in k-space. Unit category: NX_ANY (1/Angström).
        - **angular0**: Fast-axis angular coordinate (or second slow axis if angularly integrated).
          Unit category: NX_ANGLE
        - **angular1**: Slow-axis angular coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
          Unit category: NX_ANGLE
        - **spatial0**: Fast-axis spatial coordinate (or second slow axis if spatially integrated)
          Unit category: NX_LENGTH
        - **spatial1**: Slow-axis spatial coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
          Unit category: NX_LENGTH
        - **delay**: Calibrated delay time. Unit category: NX_TIME (s).
        - **polarization_angle**: Linear polarization angle of the incoming or
          outgoing beam. This could be a link to
          /entry/instrument/beam/incident_polarization_angle or
          /entry/instrument/beam/final_polarization_angle if they exist.
          Unit category: NX_ANGLE (° or rad)
        - **ellipticity**: Ellipticity of the incoming or outgoing beam.
          Could be a link to /entry/instrument/beam/incident_ellipticity or
          /entry/instrument/beam/final_ellipticity if they exist.
          Unit category: NX_ANGLE (° or rad)
      \@signal:
        enumeration: [data]
      data(NX_NUMBER):
        unit: NX_ANY
        doc: |
          Represents a measure of one- or more-dimensional photoemission counts, where the
          varied axis may be for example energy, momentum, spatial coordinate, pump-probe
          delay, spin index, temperature, etc. The axes traces should be linked to the
          actual encoder position in NXinstrument or calibrated axes in NXprocess.
      energy(NX_NUMBER):
        \@type:
          exists: recommended
      \@energy_depends:
        type: NX_CHAR
        exists: optional
        doc: |
          The energy can be dispersed according to different strategies. ``energy_depends`` points to
          the path of a field defining the calibrated axis on which the energy axis depends.
          
          For example:
            @energy_depends: 'entry/process/energy_calibration'

# ++++++++++++++++++++++++++++++++++ SHA HASH ++++++++++++++++++++++++++++++++++
# d1baf73acea9f44020e3978757891569b495fc2b159e95f75ac44126022cf39c
# <?xml version='1.0' encoding='UTF-8'?>
# <?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
# <!--
# # NeXus - Neutron and X-ray Common Data Format
# #
# # Copyright (C) 2014-2024 NeXus International Advisory Committee (NIAC)
# #
# # This library is free software; you can redistribute it and/or
# # modify it under the terms of the GNU Lesser General Public
# # License as published by the Free Software Foundation; either
# # version 3 of the License, or (at your option) any later version.
# #
# # This library is distributed in the hope that it will be useful,
# # but WITHOUT ANY WARRANTY; without even the implied warranty of
# # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# # Lesser General Public License for more details.
# #
# # You should have received a copy of the GNU Lesser General Public
# # License along with this library; if not, write to the Free Software
# # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
# #
# # For further information, see http://www.nexusformat.org
# -->
# <definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="application" type="group" name="NXmpes" extends="NXobject" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
#     <symbols>
#         <doc>
#              The symbols used in the schema to specify e.g. dimensions of arrays
#         </doc>
#         <symbol name="n_transmission_function">
#             <doc>
#                  Number of data points in the transmission function.
#             </doc>
#         </symbol>
#     </symbols>
#     <doc>
#          This is the most general application definition for
#          photoemission experiments.
#          
#          Groups and fields are named according to the
#          `ISO 18115-1:2023`_ specification as well as the `IUPAC Recommendations 2020`_.
#          
#          .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
#          .. _IUPAC Recommendations 2020: https://doi.org/10.1515/pac-2019-0404
#     </doc>
#     <group type="NXentry">
#         <field name="definition">
#             <attribute name="version"/>
#             <enumeration>
#                 <item value="NXmpes"/>
#             </enumeration>
#         </field>
#         <field name="title"/>
#         <field name="start_time" type="NX_DATE_TIME">
#             <doc>
#                  Datetime of the start of the measurement.
#                  Should be a ISO8601 date/time stamp. It is recommended to add an explicit time zone,
#                  otherwise the local time zone is assumed per ISO8601.
#             </doc>
#         </field>
#         <field name="end_time" type="NX_DATE_TIME" recommended="true">
#             <doc>
#                  Datetime of the end of the measurement.
#                  Should be a ISO8601 date/time stamp. It is recommended to add an explicit time zone,
#                  otherwise the local time zone is assumed per ISO8601.
#             </doc>
#         </field>
#         <field name="method" recommended="true">
#             <doc>
#                  Name of the experimental method.
#                  
#                  If applicable, this name should match the terms given by `Clause 11`_ of
#                  the `ISO 18115-1:2023`_ specification.
#                  
#                  Examples include:
#                      * X-ray photoelectron spectroscopy (XPS)
#                      * angle-resolved X-ray photoelectron spectroscopy (ARXPS)
#                      * ultraviolet photoelectron spectroscopy (UPS)
#                      * angle-resolved photoelectron spectroscopy (ARPES)
#                      * hard X-ray photoemission spectroscopy (HAXPES)
#                      * near ambient pressure X-ray photoelectron spectroscopy (NAPXPS)
#                      * photoelectron emission microscopy (PEEM)
#                      * electron spectroscopy for chemical analysis (ESCA)
#                      * time-resolved angle-resolved X-ray photoelectron spectroscopy (trARPES)
#                      * spin-resolved angle-resolved X-ray photoelectron spectroscopy (spin-ARPES)
#                      * momentum microscopy
#                  
#                  .. _ISO 18115-1:2023: https://www.iso.org/standard/74811.html
#                  .. _Clause 11: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:sec:11
#             </doc>
#         </field>
#         <group name="geometries" type="NXcoordinate_system_set" optional="true">
#             <doc>
#                  Description of one or more coordinate systems that are specific to the setup
#                  and the measurement geometry.
#             </doc>
#         </group>
#         <group type="NXuser" recommended="true">
#             <doc>
#                  Contact information of at least the user of the instrument or the investigator
#                  who performed this experiment. Adding multiple users if relevant is recommended.
#             </doc>
#             <field name="name">
#                 <doc>
#                      Name of the user.
#                 </doc>
#             </field>
#             <field name="affiliation">
#                 <doc>
#                      Name of the affiliation of the user at the time when the experiment was
#                      performed.
#                 </doc>
#             </field>
#         </group>
#         <group type="NXinstrument">
#             <doc>
#                  Description of the photoemission spectrometer and its individual parts.
#                  
#                  This concept is related to term `12.58`_ of the ISO 18115-1:2023 standard.
#                  
#                  .. _12.58: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:12.58
#             </doc>
#             <group name="energy_resolution" type="NXresolution" optional="true">
#                 <doc>
#                      Overall energy resolution of the photoemission instrument.
#                 </doc>
#                 <field name="physical_quantity">
#                     <enumeration>
#                         <item value="energy"/>
#                     </enumeration>
#                 </field>
#                 <field name="type" recommended="true"/>
#                 <field name="resolution" type="NX_FLOAT" units="NX_ENERGY">
#                     <doc>
#                          Minimum distinguishable energy separation in the energy spectra.
#                          
#                          This concept is related to term `10.24`_ of the ISO 18115-1:2023 standard.
#                          
#                          .. _10.24: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:10.24
#                     </doc>
#                 </field>
#                 <field name="relative_resolution" type="NX_FLOAT" optional="true">
#                     <doc>
#                          Ratio of the energy resolution of the photoemission spectrometer at a specified energy
#                          value to that energy value.
#                          
#                          This concept is related to term `10.7 ff.`_ of the ISO 18115-1:2023 standard.
#                          
#                          .. _10.7 ff.: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:10.7
#                     </doc>
#                 </field>
#             </group>
#             <group name="device_information" type="NXfabrication" recommended="true">
#                 <field name="vendor" recommended="true"/>
#                 <field name="model" recommended="true"/>
#                 <field name="identifier" recommended="true"/>
#             </group>
#             <group name="sourceTYPE" type="NXsource" recommended="true">
#                 <doc>
#                      A source used to generate a beam. Properties refer strictly to parameters of the
#                      source, not of the output beam. For example, the energy of the source is not the
#                      optical power of the beam, but the energy of the electron beam in a synchrotron
#                      or similar.
#                      
#                      Note that the uppercase notation in sourceTYPE means that multiple sources can
#                      be provided. The uppercase part can be substituted with any string that consists
#                      of alphanumeric characters, including both uppercase and lowercase letters from A to Z
#                      and numerical digits from 0 to 9. For example, in pump-probe experiments, it is possible
#                      to have both a `source_probe` and a `source_pump`.
#                 </doc>
#                 <field name="type">
#                     <enumeration>
#                         <item value="Synchrotron X-ray Source"/>
#                         <item value="Rotating Anode X-ray"/>
#                         <item value="Fixed Tube X-ray"/>
#                         <item value="UV Laser"/>
#                         <item value="Free-Electron Laser"/>
#                         <item value="Optical Laser"/>
#                         <item value="UV Plasma Source"/>
#                         <item value="Metal Jet X-ray"/>
#                         <item value="HHG laser"/>
#                         <item value="UV lamp"/>
#                         <item value="Monochromatized electron source"/>
#                         <item value="other"/>
#                     </enumeration>
#                 </field>
#                 <field name="type_other" optional="true">
#                     <doc>
#                          Specification of type, may also go to name.
#                     </doc>
#                 </field>
#                 <field name="name" recommended="true"/>
#                 <field name="probe" optional="true"/>
#                 <group name="device_information" type="NXfabrication" recommended="true">
#                     <field name="vendor" recommended="true"/>
#                     <field name="model" recommended="true"/>
#                     <field name="identifier" recommended="true"/>
#                 </group>
#                 <group name="associated_beam" type="NXbeam">
#                     <doc>
#                          The beam emitted by this source.
#                          Should be named with the same appendix, e.g.,
#                          for `source_probe` it should refer to `beam_probe`.
#                          Refers to the same concept as /NXentry/NXinstrument/beamTYPE
#                          and may be linked.
#                     </doc>
#                 </group>
#             </group>
#             <group name="beamTYPE" type="NXbeam">
#                 <doc>
#                      Properties of the photon beam at a given location.
#                      Should be named with the same appendix as sourceTYPE, e.g.,
#                      for `source_probe` it should refer to `beam_probe`.
#                 </doc>
#                 <field name="distance" type="NX_NUMBER" units="NX_LENGTH" recommended="true">
#                     <doc>
#                          Distance between the point where the current NXbeam instance is evaluating
#                          the beam properties and the point where the beam interacts with the sample.
#                          For photoemission, the latter is the point where the the centre of the beam
#                          touches the sample surface.
#                     </doc>
#                 </field>
#                 <field name="incident_energy" type="NX_FLOAT" units="NX_ENERGY"/>
#                 <field name="incident_energy_spread" type="NX_NUMBER" recommended="true" units="NX_ENERGY"/>
#                 <field name="incident_polarization" type="NX_NUMBER" recommended="true" units="NX_ANY"/>
#                 <field name="extent" type="NX_FLOAT" recommended="true"/>
#                 <group name="associated_source" type="NXsource" recommended="true">
#                     <doc>
#                          The source that emitted this beam.
#                          Should be named with the same appendix, e.g.,
#                          for `beam_probe` it should refer to `source_probe`.
#                          Refers to the same concept as /NXentry/NXinstrument/sourceTYPE
#                          and may be linked.
#                          Should be specified if an associated source exists.
#                     </doc>
#                 </group>
#             </group>
#             <group type="NXelectronanalyser">
#                 <group name="device_information" type="NXfabrication" recommended="true">
#                     <field name="vendor" recommended="true"/>
#                     <field name="model" recommended="true"/>
#                     <field name="identifier" recommended="true"/>
#                 </group>
#                 <field name="description" recommended="true"/>
#                 <field name="work_function" type="NX_FLOAT" units="NX_ENERGY" recommended="true"/>
#                 <group name="energy_resolution" type="NXresolution" optional="true">
#                     <field name="type" recommended="true"/>
#                     <field name="physical_quantity">
#                         <enumeration>
#                             <item value="energy"/>
#                         </enumeration>
#                     </field>
#                     <field name="resolution" type="NX_FLOAT"/>
#                 </group>
#                 <field name="fast_axes" recommended="true"/>
#                 <field name="slow_axes" recommended="true"/>
#                 <group name="transmission_function" type="NXdata" optional="true"/>
#                 <group type="NXcollectioncolumn">
#                     <field name="scheme">
#                         <doc>
#                              Scheme of the electron collection column.
#                         </doc>
#                         <enumeration>
#                             <item value="angular dispersive"/>
#                             <item value="spatial dispersive"/>
#                             <item value="momentum dispersive"/>
#                             <item value="non-dispersive"/>
#                         </enumeration>
#                     </field>
#                     <field name="lens_mode" recommended="true"/>
#                     <field name="projection" recommended="true"/>
#                     <field name="angular_acceptance" type="NX_FLOAT" optional="true"/>
#                     <field name="spatial_acceptance" type="NX_FLOAT" optional="true"/>
#                     <group name="field_aperture" type="NXaperture" optional="true">
#                         <doc>
#                              The size and position of the field aperture inserted in the column. To add
#                              additional or other apertures use the APERTURE group of NXcollectioncolumn.
#                         </doc>
#                     </group>
#                     <group name="contrast_aperture" type="NXaperture" optional="true">
#                         <doc>
#                              The size and position of the contrast aperture inserted in the column. To add
#                              additional or other apertures use the APERTURE group of NXcollectioncolumn.
#                         </doc>
#                     </group>
#                     <group name="iris" type="NXaperture" optional="true">
#                         <doc>
#                              Size, position and shape of the iris inserted in the column.
#                              
#                              The iris is an aperture in the lens with a variable diameter which can reduce the number of
#                              electrons entering the analyzer.
#                              
#                              To add additional or other slits use the APERTURE group of NXcollectioncolumn.
#                         </doc>
#                     </group>
#                     <group name="device_information" type="NXfabrication" recommended="true">
#                         <field name="vendor" recommended="true"/>
#                         <field name="model" recommended="true"/>
#                         <field name="identifier" recommended="true"/>
#                     </group>
#                 </group>
#                 <group type="NXenergydispersion">
#                     <field name="scheme">
#                         <enumeration>
#                             <item value="tof"/>
#                             <item value="hemispherical"/>
#                             <item value="double hemispherical"/>
#                             <item value="cylindrical mirror"/>
#                             <item value="display mirror"/>
#                             <item value="retarding grid"/>
#                         </enumeration>
#                     </field>
#                     <field name="pass_energy" type="NX_FLOAT" recommended="true" units="NX_ENERGY">
#                         <doc>
#                              Either `pass_energy` or `drift_energy` must be supplied. `pass_energy` should be used when working
#                              with hemispherical analysers.
#                         </doc>
#                     </field>
#                     <field name="drift_energy" type="NX_FLOAT" recommended="true" units="NX_ENERGY">
#                         <doc>
#                              Either `pass_energy` or `drift_energy` must be supplied. `drift_energy` should be used if a TOF is used in the
#                              energy dispersive part of the electron analyzer.
#                         </doc>
#                     </field>
#                     <field name="energy_scan_mode" recommended="true"/>
#                     <group name="entrance_slit" type="NXaperture" optional="true">
#                         <doc>
#                              Size, position and shape of the entrance slit in dispersive analyzers.
#                              
#                              To add additional or other slits use the APERTURE group of NXenergydispersion.
#                         </doc>
#                     </group>
#                     <group name="exit_slit" type="NXaperture" optional="true">
#                         <doc>
#                              Size, position and shape of the exit slit in dispersive analyzers.
#                              
#                              To add additional or other slits use the APERTURE group of NXenergydispersion.
#                         </doc>
#                     </group>
#                     <group name="device_information" type="NXfabrication" recommended="true">
#                         <field name="vendor" recommended="true"/>
#                         <field name="model" recommended="true"/>
#                         <field name="identifier" recommended="true"/>
#                     </group>
#                 </group>
#                 <group type="NXdetector">
#                     <field name="amplifier_type" recommended="true">
#                         <doc>
#                              Type of electron amplifier in the first amplification step.
#                         </doc>
#                         <enumeration>
#                             <item value="MCP"/>
#                             <item value="channeltron"/>
#                         </enumeration>
#                     </field>
#                     <field name="detector_type" recommended="true">
#                         <doc>
#                              Description of the detector type.
#                         </doc>
#                         <enumeration>
#                             <item value="DLD"/>
#                             <item value="Phosphor+CCD"/>
#                             <item value="Phosphor+CMOS"/>
#                             <item value="ECMOS"/>
#                             <item value="Anode"/>
#                             <item value="Multi-anode"/>
#                         </enumeration>
#                     </field>
#                     <group name="device_information" type="NXfabrication" recommended="true">
#                         <field name="vendor" recommended="true"/>
#                         <field name="model" recommended="true"/>
#                         <field name="identifier" recommended="true"/>
#                     </group>
#                     <group name="raw_data" type="NXdata_mpes_detector" recommended="true">
#                         <doc>
#                              Contains the raw data collected by the detector before calibration.
#                              The data which is considered raw might change from experiment to experiment
#                              due to hardware pre-processing of the data.
#                              This field ideally collects the data with the lowest level of processing
#                              possible.
#                              
#                              The naming of fields should follow the convention defined in the
#                              :ref:`NXdata_mpes_detector` base class:
#                              
#                              - **pixel_x**: Detector pixel in x direction.
#                              - **pixel_y**: Detector pixel in y direction.
#                              - **energy**: (Un)calibrated energy (kinetic or binding energy). Unit category: NX_ENERGY (e.g., eV).
#                              - **kx**: (Un)calibrated x axis in k-space. Unit category: NX_ANY (e.g., 1/Angström).
#                              - **ky**: (Un)calibrated y axis in k-space. Unit category: NX_ANY (1/Angström).
#                              - **kz**: (Un)calibrated z axis in k-space. Unit category: NX_ANY (1/Angström).
#                              - **angular0**: Fast-axis angular coordinate (or second slow axis if angularly integrated).
#                                Unit category: NX_ANGLE
#                              - **angular1**: Slow-axis angular coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
#                                Unit category: NX_ANGLE
#                              - **spatial0**: Fast-axis spatial coordinate (or second slow axis if spatially integrated)
#                                Unit category: NX_LENGTH
#                              - **spatial1**: Slow-axis spatial coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
#                                Unit category: NX_LENGTH
#                              - **delay**: Calibrated delay time. Unit category: NX_TIME (s).
#                              - **polarization_angle**: Linear polarization angle of the incoming or
#                                outgoing beam.
#                                Unit category: NX_ANGLE (° or rad)
#                              - **ellipticity**: Ellipticity of the incoming or outgoing beam.
#                                Unit category: NX_ANGLE (° or rad)
#                              - **time_of_flight**: Total time of flight. Unit category: NX_TIME_OF_FLIGHT
#                              - **time_of_flight_adc**: Time-of-flight values, analog-to-digital converted.
#                              - **external_AXIS**: Describes an axis which is coming from outside the detectors scope.
#                         </doc>
#                         <attribute name="signal">
#                             <enumeration>
#                                 <item value="raw"/>
#                             </enumeration>
#                         </attribute>
#                         <field name="raw" type="NX_NUMBER">
#                             <doc>
#                                  Raw data before calibration.
#                             </doc>
#                         </field>
#                     </group>
#                 </group>
#             </group>
#             <group type="NXmanipulator" optional="true">
#                 <doc>
#                      Manipulator for positioning of the sample.
#                 </doc>
#                 <group name="temperature_sensor" type="NXsensor" recommended="true">
#                     <field name="name" recommended="true"/>
#                     <field name="measurement">
#                         <enumeration>
#                             <item value="temperature"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <field name="value" type="NX_FLOAT"/>
#                 </group>
#                 <group name="sample_heater" type="NXactuator" optional="true">
#                     <field name="name" recommended="true"/>
#                     <field name="physical_quantity">
#                         <enumeration>
#                             <item value="temperature"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <field name="heater_power" type="NX_FLOAT"/>
#                     <group type="NXpid" recommended="true">
#                         <field name="setpoint" type="NX_FLOAT" recommended="true"/>
#                     </group>
#                 </group>
#                 <group name="cryostat" type="NXactuator" optional="true">
#                     <field name="name" recommended="true"/>
#                     <field name="physical_quantity">
#                         <enumeration>
#                             <item value="temperature"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <group type="NXpid">
#                         <field name="setpoint" type="NX_FLOAT" recommended="true"/>
#                     </group>
#                 </group>
#                 <group name="drain_current_amperemeter" type="NXsensor" optional="true">
#                     <field name="name" recommended="true"/>
#                     <field name="measurement">
#                         <enumeration>
#                             <item value="current"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <field name="value" type="NX_FLOAT"/>
#                 </group>
#                 <group name="sample_bias_voltmeter" type="NXsensor" recommended="true">
#                     <field name="name" recommended="true"/>
#                     <field name="measurement">
#                         <enumeration>
#                             <item value="voltage"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <field name="value" type="NX_FLOAT"/>
#                 </group>
#                 <group name="sample_bias_potentiostat" type="NXactuator" recommended="true">
#                     <field name="name" recommended="true"/>
#                     <field name="physical_quantity">
#                         <enumeration>
#                             <item value="voltage"/>
#                         </enumeration>
#                     </field>
#                     <field name="type" optional="true"/>
#                     <group type="NXpid" recommended="true">
#                         <field name="setpoint" type="NX_FLOAT" recommended="true"/>
#                     </group>
#                 </group>
#                 <group name="device_information" type="NXfabrication" recommended="true">
#                     <field name="vendor" recommended="true"/>
#                     <field name="model" recommended="true"/>
#                     <field name="identifier"/>
#                 </group>
#             </group>
#             <group name="pressure_gauge" type="NXsensor" recommended="true">
#                 <doc>
#                      Device to measure the gas pressure around the sample.
#                 </doc>
#                 <field name="name" recommended="true"/>
#                 <field name="measurement">
#                     <enumeration>
#                         <item value="pressure"/>
#                     </enumeration>
#                 </field>
#                 <field name="type" optional="true"/>
#                 <field name="value" type="NX_FLOAT" units="NX_PRESSURE">
#                     <doc>
#                          In case of a single or averaged gas pressure measurement, this is the scalar gas pressure around
#                          the sample. It can also be an 1D array of measured pressures (without time stamps).
#                     </doc>
#                 </field>
#                 <group name="value_log" type="NXlog" optional="true">
#                     <field name="value" type="NX_NUMBER" units="NX_PRESSURE">
#                         <doc>
#                              In the case of an experiment in which the gas pressure changes and is recorded,
#                              this is an array of length m of gas pressures.
#                         </doc>
#                     </field>
#                 </group>
#             </group>
#             <group name="flood_gun" type="NXactuator" optional="true">
#                 <doc>
#                      Device to bring low-energy electrons to the sample for charge neutralization
#                 </doc>
#                 <field name="name" recommended="true"/>
#                 <field name="physical_quantity">
#                     <enumeration>
#                         <item value="current"/>
#                     </enumeration>
#                 </field>
#                 <field name="type" optional="true"/>
#                 <field name="current" type="NX_FLOAT" recommended="true" units="NX_CURRENT">
#                     <doc>
#                          In case of a fixed or averaged electron current, this is the scalar current.
#                          It can also be an 1D array of output current (without time stamps).
#                     </doc>
#                 </field>
#                 <group name="current_log" type="NXlog" optional="true">
#                     <field name="value" type="NX_NUMBER" units="NX_CURRENT">
#                         <doc>
#                              In the case of an experiment in which the electron current is changed and
#                              recorded with time stamps, this is an array of length m of current setpoints.
#                         </doc>
#                     </field>
#                 </group>
#             </group>
#             <group name="history" type="NXhistory" optional="true">
#                 <doc>
#                      A set of activities that occurred to the instrument prior to/during the photoemission
#                      experiment, including any activities performed on the individual instrument parts.
#                      This group can be used to describe the preparation of the instrument prior to the
#                      experiment, e.g. the cleaning procedure for a spin filter crystal.
#                 </doc>
#             </group>
#         </group>
#         <group type="NXprocess_mpes" recommended="true">
#             <doc>
#                  Document an event of data processing, reconstruction, or analysis for this data.
#                  The appropriate axis calibrations for a given experiment should be described using
#                  one or more of the following NXcalibrations. The individual calibrations for a given
#                  `AXISNAME` in `data` should be called `AXISNAME_calibration`.
#             </doc>
#             <group name="energy_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="kN_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="angularN_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="spatialN_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="delay_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="polarization_angle_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="ellipticity_calibration" type="NXcalibration" optional="true">
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="energy_referencing" type="NXcalibration" optional="true">
#                 <group name="level" type="NXelectron_level" recommended="true"/>
#                 <field name="reference_peak"/>
#                 <field name="binding_energy" type="NX_FLOAT" recommended="true"/>
#                 <field name="offset" type="NX_FLOAT" recommended="true"/>
#                 <field name="calibrated_axis" type="NX_FLOAT" recommended="true"/>
#             </group>
#             <group name="transmission_correction" type="NXcalibration" optional="true">
#                 <group name="transmission_function" type="NXdata" recommended="true">
#                     <attribute name="signal"/>
#                     <attribute name="axes"/>
#                     <field name="kinetic_energy" type="NX_FLOAT" units="NX_ENERGY">
#                         <doc>
#                              Kinetic energy values
#                         </doc>
#                         <dimensions rank="1">
#                             <dim index="1" value="n_transmission_function"/>
#                         </dimensions>
#                     </field>
#                     <field name="relative_intensity" type="NX_FLOAT" units="NX_UNITLESS">
#                         <doc>
#                              Relative transmission efficiency for the given kinetic energies
#                         </doc>
#                         <dimensions rank="1">
#                             <dim index="1" value="n_transmission_function"/>
#                         </dimensions>
#                     </field>
#                 </group>
#             </group>
#         </group>
#         <group type="NXsample">
#             <field name="name"/>
#             <group type="NXsubstance" recommended="true">
#                 <doc>
#                      For samples containing a single pure substance. For mixtures use the
#                      NXsample_component_set and NXsample_component group in NXsample instead.
#                 </doc>
#                 <field name="molecular_formula_hill" recommended="true">
#                     <doc>
#                          The chemical formula of the sample (using CIF conventions).
#                     </doc>
#                 </field>
#             </group>
#             <field name="atom_types" recommended="true">
#                 <doc>
#                      List of comma-separated elements from the periodic table
#                      that are contained in the sample.
#                      If the sample substance has multiple components, all
#                      elements from each component must be included in `atom_types`.
#                 </doc>
#             </field>
#             <field name="physical_form" recommended="true"/>
#             <field name="situation" recommended="true">
#                 <enumeration>
#                     <item value="vacuum"/>
#                     <item value="inert atmosphere"/>
#                     <item value="oxidising atmosphere"/>
#                     <item value="reducing atmosphere"/>
#                 </enumeration>
#             </field>
#             <group name="history" type="NXhistory" recommended="true">
#                 <doc>
#                      A set of activities that occurred to the sample prior to/during photoemission
#                      experiment.
#                 </doc>
#                 <group name="sample_preparation" type="NXphysical_process" recommended="true">
#                     <doc>
#                          Details about the sample preparation for the photoemission experiment (e.g. UHV cleaving,
#                          in-situ growth, sputtering/annealing, etc.).
#                     </doc>
#                     <field name="start_time" type="NX_DATE_TIME"/>
#                     <field name="end_time" type="NX_DATE_TIME" recommended="true"/>
#                     <field name="method" recommended="true">
#                         <doc>
#                              Details about the method of sample preparation before the photoemission
#                              experiment.
#                         </doc>
#                     </field>
#                 </group>
#             </group>
#             <group name="temperature" type="NXenvironment" recommended="true">
#                 <doc>
#                      Sample temperature (either controlled or just measured).
#                 </doc>
#                 <group name="temperature_sensor" type="NXsensor">
#                     <doc>
#                          Temperature sensor measuring the sample temperature.
#                          This should be a link to /entry/instrument/manipulator/temperature_sensor.
#                     </doc>
#                 </group>
#                 <group name="sample_heater" type="NXactuator" optional="true">
#                     <doc>
#                          Device to heat the sample.
#                          This should be a link to /entry/instrument/manipulator/sample_heater.
#                     </doc>
#                 </group>
#                 <group name="cryostat" type="NXactuator" optional="true">
#                     <doc>
#                          Cryostat for cooling the sample.
#                          This should be a link to /entry/instrument/manipulator/cryostat.
#                     </doc>
#                 </group>
#             </group>
#             <group name="gas_pressure" type="NXenvironment" recommended="true">
#                 <doc>
#                      Gas pressure surrounding the sample.
#                 </doc>
#                 <group name="pressure_gauge" type="NXsensor">
#                     <doc>
#                          Gauge measuring the gas pressure.
#                          
#                          This should be a link to /entry/instrument/pressure_gauge.
#                     </doc>
#                 </group>
#             </group>
#             <group name="bias" type="NXenvironment" recommended="true">
#                 <doc>
#                      Bias of the sample with respect to analyser ground.
#                      
#                      This concept is related to term `8.41`_ of the ISO 18115-1:2023 standard.
#                      
#                      .. _8.41: https://www.iso.org/obp/ui/en/#iso:std:iso:18115:-1:ed-3:v1:en:term:8.41
#                 </doc>
#                 <group name="voltmeter" type="NXsensor">
#                     <doc>
#                          Sensor measuring the applied voltage.
#                          
#                          This should be a link to /entry/instrument/manipulator/sample_bias_voltmeter.
#                     </doc>
#                 </group>
#                 <group name="potentiostat" type="NXactuator" optional="true">
#                     <doc>
#                          Actuator applying a voltage to sample and sample holder.
#                          
#                          This should be a link to /entry/instrument/manipulator/sample_bias_potentiostat.
#                     </doc>
#                 </group>
#             </group>
#             <group name="drain_current" type="NXenvironment" optional="true">
#                 <doc>
#                      Drain current of the sample and sample holder.
#                 </doc>
#                 <group name="amperemeter" type="NXsensor">
#                     <doc>
#                          Amperemeter measuring the drain current of the sample and sample holder.
#                          
#                          This should be a link to /entry/instrument/manipulator/drain_current_amperemeter.
#                     </doc>
#                 </group>
#             </group>
#             <group name="flood_gun_current" type="NXenvironment" optional="true">
#                 <doc>
#                      Current of low-energy electrons to the sample for charge neutralization.
#                 </doc>
#                 <group name="flood_gun" type="NXactuator">
#                     <doc>
#                          Flood gun creating a current of low-energy electrons.
#                          
#                          This should be a link to /entry/instrument/flood_gun.
#                     </doc>
#                 </group>
#             </group>
#         </group>
#         <group name="data" type="NXdata_mpes">
#             <doc>
#                  The default NXdata field containing a view on the measured data.
#                  This NXdata field contains a collection of the main relevant fields (axes).
#                  If you want to provide additional views on your data, you can additionally use
#                  the generic NXdata group of NXentry.
#                  
#                  In NXmpes, it is required to provide an energy axis.
#                          
#                  The naming of fields should follow the convention defined in the
#                  :ref:`NXdata_mpes` base class:
#                  
#                  - **energy**: Calibrated energy (kinetic or binding energy). Unit category: NX_ENERGY (e.g., eV).
#                  - **kx**: Calibrated x axis in k-space. Unit category: NX_ANY (e.g., 1/Angström).
#                  - **ky**: Calibrated y axis in k-space. Unit category: NX_ANY (1/Angström).
#                  - **kz**: Calibrated z axis in k-space. Unit category: NX_ANY (1/Angström).
#                  - **angular0**: Fast-axis angular coordinate (or second slow axis if angularly integrated).
#                    Unit category: NX_ANGLE
#                  - **angular1**: Slow-axis angular coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
#                    Unit category: NX_ANGLE
#                  - **spatial0**: Fast-axis spatial coordinate (or second slow axis if spatially integrated)
#                    Unit category: NX_LENGTH
#                  - **spatial1**: Slow-axis spatial coordinate (or second fast axis if simultaneously dispersed in 2 dimensions)
#                    Unit category: NX_LENGTH
#                  - **delay**: Calibrated delay time. Unit category: NX_TIME (s).
#                  - **polarization_angle**: Linear polarization angle of the incoming or
#                    outgoing beam. This could be a link to
#                    /entry/instrument/beam/incident_polarization_angle or
#                    /entry/instrument/beam/final_polarization_angle if they exist.
#                    Unit category: NX_ANGLE (° or rad)
#                  - **ellipticity**: Ellipticity of the incoming or outgoing beam.
#                    Could be a link to /entry/instrument/beam/incident_ellipticity or
#                    /entry/instrument/beam/final_ellipticity if they exist.
#                    Unit category: NX_ANGLE (° or rad)
#             </doc>
#             <attribute name="signal">
#                 <enumeration>
#                     <item value="data"/>
#                 </enumeration>
#             </attribute>
#             <field name="data" type="NX_NUMBER" units="NX_ANY">
#                 <doc>
#                      Represents a measure of one- or more-dimensional photoemission counts, where the
#                      varied axis may be for example energy, momentum, spatial coordinate, pump-probe
#                      delay, spin index, temperature, etc. The axes traces should be linked to the
#                      actual encoder position in NXinstrument or calibrated axes in NXprocess.
#                 </doc>
#             </field>
#             <field name="energy" type="NX_NUMBER">
#                 <attribute name="type" recommended="true"/>
#             </field>
#             <attribute name="energy_depends" type="NX_CHAR" optional="true">
#                 <doc>
#                      The energy can be dispersed according to different strategies. ``energy_depends`` points to
#                      the path of a field defining the calibrated axis on which the energy axis depends.
#                      
#                      For example:
#                        @energy_depends: 'entry/process/energy_calibration'
#                 </doc>
#             </attribute>
#         </group>
#     </group>
# </definition>
