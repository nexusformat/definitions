category: base
doc: |
  A scan is performed inside an N-dimensional phase space, where each dimension can correspond not only to real space coordinates (x,y) but also to any other parameter. This class contains detailed information about controlling the scan in such a phase space (or its subspace).
  
  scan_types:
  Trajectory: A list of N-dimensional sequential vectors describes the trajectory line for a full scan.
  Mesh: For each dimension a range and a direction are chosen. When a scan along a dimension is done, a single step in the next dimension is taken, and then the scan in the previous dimension is repeated. As such we can speak about the fastest and the slowest scan axes.
  Snake: Similar to a mesh scan but with the scanning direction reversed after each line.
  Spiral: A scan taken along a spiral trajectory.
  Linear: A scan where the scanning will be performed along a single independent axis.
  Tilt: At each step, a proportional movement is done in all dimensions (an special case of Trajectory scan).
  
  Scan_control_types:
  Stepping: At each step, a movement to the next point is performed; correction (for example backlash) or active regulation (feedback loop) may or may not be applied. After the movement is done, the measurement is performed without the movement.
  Continuous: The scanning of each line in an N-dimensional phase space is done without stopping; measurements are done simultaneously with the movement.
  Oscillating: Scanning over a scan point continuously and then moving to start scanning at the next position.
type: group
NXspm_scan_control(NXobject):
  scan_time_start(NX_DATE_TIME):
    unit: NX_TIME
    doc: |
      The start time of the scan.
  scan_time_end(NX_DATE_TIME):
    unit: NX_TIME
    doc: |
      The end time of the scan.
  independent_scan_axes:
    doc: |
      An array of scan axes which are controlled independently of each other.
      (e.g. X, Y, Z, or other physical dimensions)
      
      The array elements are in the order of axes of the scan from the fastest to the slowest.
  scan_resolutionN(NX_NUMBER):
    nameType: partial
    unit: NX_ANY
    doc: |
      Define the scan resolution along each dimension as the number of steps per unit of the dimension parameters.
      
      Rename the field according to the name of the independent dimension (e.g. scan_resolution_x, scan_resolution_voltage).
  accuracyN(NX_NUMBER):
    nameType: partial
    unit: NX_LENGTH
    doc: |
      Define the accuracy of the scan probe.
  scan_type:
    doc: |
      This group specifies how the trajectory of the scan is defined.
    enumeration: [trajectory, mesh, snake, spiral, linear, tilt]
  scan_control_type:
    doc: |
      This string describes how the scan was performed.
    enumeration: [stepping, continuous, oscillating]
  scan_region(NXspm_scan_region):
    doc: |
      The scan region is the area of phase space or sub-phase space where the scan is
      performed. The region could be N-dimensional and is defined by the minimum and
      maximum values of the scan axes.
  meshSCAN(NXspm_scan_pattern):
    nameType: partial
    doc: |
      For each dimension a range and a direction are chosen. When a scan along a dimension is done,
      a single step in the next dimension is taken, and then the scan in the previous dimension is
      repeated. As such we can speak about the fastest and the slowest scan axes.
  spiralSCAN(NXspm_scan_pattern):
    nameType: partial
    doc: |
      To define the spiral or circular scan, use this group.
    spiral_radiusN(NX_NUMBER):
      nameType: partial
      unit: NX_ANY
      doc: |
        Define the radius of the spiral circle of scanning.
        
        Rename the field, according to the circle order, the nearest circle to the center is 0.
    scan_pointsN(NX_NUMBER):
      nameType: partial
      doc: |
        Define the total number of points in a given circle scan to be performed.
        
        Rename the field, according to the circle order, the nearest circle to the center
        is 0 (e.g. scan_points_2).
  snakeSCAN(NXspm_scan_pattern):
    nameType: partial
    doc: |
      To define the snake scan, use this group.
  trajSCAN(NXspm_scan_pattern):
    nameType: partial
    doc: |
      To define the trajectory scan, use this group.
  linearSCAN(NXspm_scan_pattern):
    nameType: partial
    doc: |
      To define the linear scan, use this group.

# ++++++++++++++++++++++++++++++++++ SHA HASH ++++++++++++++++++++++++++++++++++
# f7b9cf9c38c68d2dfc857c8b32e3edd855b2f5c694dbf57da75e9b84cbc5c942
# <?xml version='1.0' encoding='UTF-8'?>
# <?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
# <!--
# # NeXus - Neutron and X-ray Common Data Format
# #
# # Copyright (C) 2024-2025 NeXus International Advisory Committee (NIAC)
# #
# # This library is free software; you can redistribute it and/or
# # modify it under the terms of the GNU Lesser General Public
# # License as published by the Free Software Foundation; either
# # version 3 of the License, or (at your option) any later version.
# #
# # This library is distributed in the hope that it will be useful,
# # but WITHOUT ANY WARRANTY; without even the implied warranty of
# # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# # Lesser General Public License for more details.
# #
# # You should have received a copy of the GNU Lesser General Public
# # License along with this library; if not, write to the Free Software
# # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
# #
# # For further information, see http://www.nexusformat.org
# -->
# <definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="base" type="group" name="NXspm_scan_control" extends="NXobject" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
#     <doc>
#         A scan is performed inside an N-dimensional phase space, where each dimension can correspond not only to real space coordinates (x,y) but also to any other parameter. This class contains detailed information about controlling the scan in such a phase space (or its subspace).
#         
#         scan_types:
#         Trajectory: A list of N-dimensional sequential vectors describes the trajectory line for a full scan.
#         Mesh: For each dimension a range and a direction are chosen. When a scan along a dimension is done, a single step in the next dimension is taken, and then the scan in the previous dimension is repeated. As such we can speak about the fastest and the slowest scan axes.
#         Snake: Similar to a mesh scan but with the scanning direction reversed after each line.
#         Spiral: A scan taken along a spiral trajectory.
#         Linear: A scan where the scanning will be performed along a single independent axis.
#         Tilt: At each step, a proportional movement is done in all dimensions (an special case of Trajectory scan).
#         
#         Scan_control_types:
#         Stepping: At each step, a movement to the next point is performed; correction (for example backlash) or active regulation (feedback loop) may or may not be applied. After the movement is done, the measurement is performed without the movement.
#         Continuous: The scanning of each line in an N-dimensional phase space is done without stopping; measurements are done simultaneously with the movement.
#         Oscillating: Scanning over a scan point continuously and then moving to start scanning at the next position.
#     </doc>
#     <field name="scan_time_start" type="NX_DATE_TIME" units="NX_TIME">
#         <doc>
#             The start time of the scan.
#         </doc>
#     </field>
#     <field name="scan_time_end" type="NX_DATE_TIME" units="NX_TIME">
#         <doc>
#             The end time of the scan.
#         </doc>
#     </field>
#     <field name="independent_scan_axes">
#         <doc>
#             An array of scan axes which are controlled independently of each other.
#             (e.g. X, Y, Z, or other physical dimensions)
#             
#             The array elements are in the order of axes of the scan from the fastest to the slowest.
#         </doc>
#     </field>
#     <field name="scan_resolutionN" type="NX_NUMBER" nameType="partial" units="NX_ANY">
#         <doc>
#             Define the scan resolution along each dimension as the number of steps per unit of the dimension parameters.
#             
#             Rename the field according to the name of the independent dimension (e.g. scan_resolution_x, scan_resolution_voltage).
#         </doc>
#     </field>
#     <field name="accuracyN" type="NX_NUMBER" nameType="partial" units="NX_LENGTH">
#         <doc>
#             Define the accuracy of the scan probe.
#         </doc>
#     </field>
#     <field name="scan_type">
#         <doc>
#             This group specifies how the trajectory of the scan is defined.
#         </doc>
#         <enumeration>
#             <item value="trajectory"/>
#             <item value="mesh"/>
#             <item value="snake"/>
#             <item value="spiral"/>
#             <item value="linear"/>
#             <item value="tilt"/>
#         </enumeration>
#     </field>
#     <field name="scan_control_type">
#         <doc>
#             This string describes how the scan was performed.
#         </doc>
#         <enumeration>
#             <item value="stepping"/>
#             <item value="continuous"/>
#             <item value="oscillating"/>
#         </enumeration>
#     </field>
#     <group name="scan_region" type="NXspm_scan_region">
#         <doc>
#             The scan region is the area of phase space or sub-phase space where the scan is
#             performed. The region could be N-dimensional and is defined by the minimum and
#             maximum values of the scan axes.
#         </doc>
#     </group>
#     <group name="meshSCAN" type="NXspm_scan_pattern" nameType="partial">
#         <doc>
#             For each dimension a range and a direction are chosen. When a scan along a dimension is done,
#             a single step in the next dimension is taken, and then the scan in the previous dimension is
#             repeated. As such we can speak about the fastest and the slowest scan axes.
#         </doc>
#     </group>
#     <group name="spiralSCAN" type="NXspm_scan_pattern" nameType="partial">
#         <doc>
#             To define the spiral or circular scan, use this group.
#         </doc>
#         <field name="spiral_radiusN" type="NX_NUMBER" nameType="partial" units="NX_ANY">
#             <doc>
#                 Define the radius of the spiral circle of scanning.
#                 
#                 Rename the field, according to the circle order, the nearest circle to the center is 0.
#             </doc>
#         </field>
#         <field name="scan_pointsN" type="NX_NUMBER" nameType="partial">
#             <doc>
#                 Define the total number of points in a given circle scan to be performed.
#                 
#                 Rename the field, according to the circle order, the nearest circle to the center
#                 is 0 (e.g. scan_points_2).
#             </doc>
#         </field>
#     </group>
#     <group name="snakeSCAN" type="NXspm_scan_pattern" nameType="partial">
#         <doc>
#             To define the snake scan, use this group.
#         </doc>
#     </group>
#     <group name="trajSCAN" type="NXspm_scan_pattern" nameType="partial">
#         <doc>
#             To define the trajectory scan, use this group.
#         </doc>
#     </group>
#     <group name="linearSCAN" type="NXspm_scan_pattern" nameType="partial">
#         <doc>
#             To define the linear scan, use this group.
#         </doc>
#     </group>
# </definition>
