<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
#
# Copyright (C) 2014-2024 NeXus International Advisory Committee (NIAC)
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="base" type="group" name="NXdata_mpes_detector" extends="NXdata" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <doc>
         :ref:`NXdata_mpes_detector` describes the plottable data and related dimension scales 
         for raw detector data in MPES experiments.
         
         It extends the NXdata class and provides a glossary of explicitly named axis names
         which are typical for raw MPES data.
    </doc>
    <attribute name="signal">
        <enumeration>
            <item value="raw"/>
        </enumeration>
    </attribute>
    <field name="raw" type="NX_NUMBER">
        <doc>
             Raw data before calibration.
        </doc>
    </field>
    <field name="pixel_x" type="NX_FLOAT" optional="true" units="NX_ANY">
        <!--
there is also x_pixel_offset in NXdetector base class
-->
        <doc>
             Detector pixel in x direction.
        </doc>
    </field>
    <field name="pixel_y" type="NX_FLOAT" optional="true" units="NX_ANY">
        <doc>
             Detector pixel in y direction.
        </doc>
    </field>
    <!--exists in NXdetector base class-->
    <field name="raw_time_of_flight" type="NX_INT" optional="true" units="NX_PULSES">
        <doc>
             In DAQ clock pulses
        </doc>
    </field>
    <!--exists in NXdetector base class-->
    <field name="time_of_flight" type="NX_FLOAT" optional="true" units="NX_TIME_OF_FLIGHT">
        <doc>
             Total time of flight
        </doc>
    </field>
    <field name="time_of_flight_adc" type="NX_FLOAT" optional="true" units="NX_ANY">
        <doc>
             Time-of-flight values, analog-to-digital converted.
        </doc>
    </field>
    <field name="polar_angle_manipulator" type="NX_FLOAT" optional="true" units="NX_ANGLE">
        <doc>
             Polar rotation angle of the manipulator.
        </doc>
    </field>
    <field name="azimuthal_angle_manipulator" type="NX_FLOAT" optional="true" units="NX_ANGLE">
        <doc>
             Azimuthal rotation angle of the manipulator.
        </doc>
    </field>
    <field name="delay_position" type="NX_FLOAT" optional="true" units="NX_LENGTH">
        <doc>
             Delay position of delay line detector.
        </doc>
    </field>
    <field name="delay_position_ADC" type="NX_FLOAT" optional="true" units="NX_ANY">
        <doc>
             Delay position of delay line detector, analog-to-digital converted.
        </doc>
    </field>
    <field name="time_delay_x" type="NX_FLOAT" optional="true" units="NX_TIME">
        <doc>
             Time delay of delay line detector.
        </doc>
    </field>
    <field name="time_delay_y" type="NX_FLOAT" optional="true" units="NX_TIME">
        <doc>
             Time delay of delay line detector.
        </doc>
    </field>
    <field name="voltage" type="NX_FLOAT" optional="true" units="NX_VOLTAGE">
        <doc>
             Measured detector voltage
        </doc>
    </field>
    <field name="external_AXIS" type="NX_NUMBER" optional="true" units="NX_ANY">
        <doc>
             Describes an axis which is coming from outside the detectors scope.
             
             Think of a detector just being triggered for readout by the rest of the experimental setup -
             it would just know that it collected N images, which would flatten the external parameters to one axis, too.
             This can then be linked, e.g. with NXcalibration, to the appropriate fields in the instrument and write it to the
             top-level NXdata.
        </doc>
    </field>
    <field name="magnetization" type="NX_CHAR">
        <doc>
             missing
        </doc>
    </field>
    <field name="scattering_direction" type="NX_CHAR">
        <doc>
             missing
        </doc>
    </field>
</definition>
