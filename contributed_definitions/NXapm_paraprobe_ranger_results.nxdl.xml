<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
#
# Copyright (C) 2025-2026 NeXus International Advisory Committee (NIAC)
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" category="application" type="group" name="NXapm_paraprobe_ranger_results" extends="NXapm_paraprobe_tool_results" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <symbols>
        <doc>
            The symbols used in the schema to specify e.g. dimensions of arrays.
        </doc>
        <symbol name="n_ions">
            <doc>
                The total number of ions in the reconstructed volume.
            </doc>
        </symbol>
    </symbols>
    <doc>
        Application definition for results files of the paraprobe-ranger tool.
        
        The tool paraprobe-ranger evaluates how mass-to-charge-state-ratio
        values map on (molecular) ion types.
    </doc>
    <group type="NXentry" minOccurs="1" maxOccurs="1">
        <field name="definition" type="NX_CHAR">
            <enumeration>
                <item value="NXapm_paraprobe_ranger_results"/>
            </enumeration>
        </field>
        <group name="iontypesID" type="NXapm_paraprobe_tool_process" nameType="partial" minOccurs="1" maxOccurs="unbounded">
            <doc>
                The tool loads ranging definitions from the configuration file and
                evaluates for each ion to which iontype it matches.
                If an ion matches on no type, the ion is assume of the default
                *unknown_type*. In this case, the value *iontypes* is 0.
                In other cases the value is larger than 0.
            </doc>
            <field name="iontypes" type="NX_UINT" units="NX_UNITLESS">
                <doc>
                    The iontype (identifier) for each ion that was best matching,
                    stored in the order of the evaporation sequence ID.
                </doc>
                <dimensions rank="1">
                    <dim index="1" value="n_ions"/>
                </dimensions>
            </field>
        </group>
    </group>
</definition>
